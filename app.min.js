function config(e,t,o,n){e.when("/login",{controller:"loginController",templateUrl:"views/login.html",resolve:{}}).when("/",{controller:"homeController",templateUrl:"views/home.html",resolve:{}}).when("/user",{controller:"userController",templateUrl:"views/login.html",resolve:{}}).when("/events",{controller:"eventsController",templateUrl:"views/events.html"}).otherwise({redirectTo:"/login"}),n.theme("default").primaryPalette("light-blue").accentPalette("orange")}function rotateRight(e,t){return t>>>e|t<<32-e}function choice(e,t,o){return e&t^~e&o}function majority(e,t,o){return e&t^e&o^t&o}function sha256_Sigma0(e){return rotateRight(2,e)^rotateRight(13,e)^rotateRight(22,e)}function sha256_Sigma1(e){return rotateRight(6,e)^rotateRight(11,e)^rotateRight(25,e)}function sha256_sigma0(e){return rotateRight(7,e)^rotateRight(18,e)^e>>>3}function sha256_sigma1(e){return rotateRight(17,e)^rotateRight(19,e)^e>>>10}function sha256_expand(e,t){return e[15&t]+=sha256_sigma1(e[t+14&15])+e[t+9&15]+sha256_sigma0(e[t+1&15])}function safe_add(e,t){var o=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(o>>16);return n<<16|65535&o}function sha256_init(){ihash=new Array(8),count=new Array(2),buffer=new Array(64),count[0]=count[1]=0,ihash[0]=1779033703,ihash[1]=3144134277,ihash[2]=1013904242,ihash[3]=2773480762,ihash[4]=1359893119,ihash[5]=2600822924,ihash[6]=528734635,ihash[7]=1541459225}function sha256_transform(){var e,t,o,n,i,r,a,s,l,c,u=new Array(16);e=ihash[0],t=ihash[1],o=ihash[2],n=ihash[3],i=ihash[4],r=ihash[5],a=ihash[6],s=ihash[7];for(var f=0;16>f;f++)u[f]=buffer[(f<<2)+3]|buffer[(f<<2)+2]<<8|buffer[(f<<2)+1]<<16|buffer[f<<2]<<24;for(var h=0;64>h;h++)l=s+sha256_Sigma1(i)+choice(i,r,a)+K256[h],l+=16>h?u[h]:sha256_expand(u,h),c=sha256_Sigma0(e)+majority(e,t,o),s=a,a=r,r=i,i=safe_add(n,l),n=o,o=t,t=e,e=safe_add(l,c);ihash[0]+=e,ihash[1]+=t,ihash[2]+=o,ihash[3]+=n,ihash[4]+=i,ihash[5]+=r,ihash[6]+=a,ihash[7]+=s}function sha256_update(e,t){var o,n,i=0;n=count[0]>>3&63;var r=63&t;for((count[0]+=t<<3)<t<<3&&count[1]++,count[1]+=t>>29,o=0;t>o+63;o+=64){for(var a=n;64>a;a++)buffer[a]=e.charCodeAt(i++);sha256_transform(),n=0}for(var a=0;r>a;a++)buffer[a]=e.charCodeAt(i++)}function sha256_final(){var e=count[0]>>3&63;if(buffer[e++]=128,56>=e)for(var t=e;56>t;t++)buffer[t]=0;else{for(var t=e;64>t;t++)buffer[t]=0;sha256_transform();for(var t=0;56>t;t++)buffer[t]=0}buffer[56]=count[1]>>>24&255,buffer[57]=count[1]>>>16&255,buffer[58]=count[1]>>>8&255,buffer[59]=255&count[1],buffer[60]=count[0]>>>24&255,buffer[61]=count[0]>>>16&255,buffer[62]=count[0]>>>8&255,buffer[63]=255&count[0],sha256_transform()}function sha256_encode_bytes(){for(var e=0,t=new Array(32),o=0;8>o;o++)t[e++]=ihash[o]>>>24&255,t[e++]=ihash[o]>>>16&255,t[e++]=ihash[o]>>>8&255,t[e++]=255&ihash[o];return t}function sha256_encode_hex(){for(var e=new String,t=0;8>t;t++)for(var o=28;o>=0;o-=4)e+=sha256_hex_digits.charAt(ihash[t]>>>o&15);return e}function sha256_digest(e){return sha256_init(),sha256_update(e,e.length),sha256_final(),sha256_encode_hex()}function sha256_self_test(){return"f7846f55cf23e14eebeab5b4e1550cad5b509e3348fbc4efa3a1413d393cb650"==sha256_digest("message digest")}function processData(e){var t=[];return angular.forEach(e,function(o,n){t.push({x:1e3*e[n].time_first,y:e[n].scale})}),[{values:t}]}function pieChart(e){var t=new Object;angular.forEach(e,function(o,n){var i=e[n].type;void 0!=t[i]?t[i]+=1:t[i]=1});var o=[];return angular.forEach(t,function(e,t){o.push({key:t,y:e})}),o}function topBarCtrl(e,t,o,n){this.user="Petr",this.toggleLeft=function(){n("left").toggle()},this.logout=function(){var t=e.confirm().title("Are you sure?").content("You are about to be logged out. All unsaved changes will be lost in the void!").ok("Log me out").cancel("Keep me here");e.show(t).then(function(){o.path("/login")})}}config.$inject=["$routeProvider","$locationProvider","localStorageServiceProvider","$mdThemingProvider"],topBarCtrl.$inject=["$mdDialog","confirmLogout","$location","$mdSidenav"];var app=angular.module("gui",["ngAnimate","ngMaterial","ngRoute","ngMessages","nvd3","LocalStorageModule"]);app.config(config);var loginCorrect=null;checkLogin=function(e,t,o){return o.get("loggedIn")?console.log("correct"):t.path("/login"),!1},app.filter("nospace",function(){return function(e){return e?e.replace(/ /g,""):""}}),app.constant("AUTH_EVENTS",{loginSuccess:"auth-login-success",loginFailed:"auth-login-failed",logoutSuccess:"auth-logout-success",sessionTimeout:"auth-session-timeout",notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized"}),app.constant("CATEGORIES",["Recon.Scanning","Attempt.Login","Availability.DoS"]),app.constant("PROTOCOLS",["tcp","dns","udp"]),app.constant("TYPES",["histogram","piechart"]),app.constant("PIECHART",{options:{chart:{type:"pieChart",height:500,x:function(e){return e.key[0]},y:function(e){return e.x},showLabels:!0,donut:!0,padAngle:.02,cornerRadius:3,transitionDuration:500,labelThreshold:.1,color:["#0ec4f4","#631FF6","#FFDC06","#FF8406","#b56969","#e6cf8b"],legend:{margin:{top:0,right:100,bottom:5,left:0}}}}}),app.constant("AREA",{options:{chart:{type:"stackedAreaChart",height:500,margin:{top:20,right:20,bottom:30,left:40},x:function(e){return e.x},y:function(e){return e.y},useVoronoi:!1,clipEdge:!0,duration:100,useInteractiveGuideline:!0,xAxis:{showMaxMin:!1,tickFormat:function(e){return d3.time.format("%x")(new Date(e))}},yAxis:{tickFormat:function(e){return d3.format(",.2f")(e)}},zoom:{enabled:!0,scaleExtent:[1,10],useFixedDomain:!1,useNiceScale:!1,horizontalOff:!1,verticalOff:!0,unzoomEventType:"dblclick.zoom"}}}}),app.directive("menuToggle",["$timeout",function(e){return{scope:{section:"="},templateUrl:"partials/menu-toggle.tmpl.html",link:function(e,t){var o=t.parent().controller();e.isOpen=function(){return o.isOpen(e.section)},e.toggle=function(){o.toggleOpen(e.section)};var n=t[0].parentNode.parentNode.parentNode;if(n.classList.contains("parent-list-item")){var i=n.querySelector("h2");t[0].firstChild.setAttribute("aria-describedby",i.id)}}}}]);var K256=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),ihash,count,buffer,sha256_hex_digits="0123456789abcdef";app.controller("eventsController",["$scope","$http",function(e,t){e.filter={category:"",proto:"",desc:"",flows_from:"",flows_to:"",items:100,btn:"Load"},e.query={from:"",to:"",date:"",limit:25},e.data=[],t.get("http://benefizio.liberouter.org:5555/v2/events/"+e.filter.items).success(function(t){e.data=t}),e.parseDate=function(t){var o=t;o.setHours(o.getHours()+1),e.foodate=o.toJSON()},e.loadItems=function(o){e.filter.btn="Loading...";var n=JSON.stringify(o.date).split("T"),i=JSON.stringify(o.from).split("T"),r=JSON.stringify(o.to).split("T"),a={from:JSON.parse(n[0]+"T"+i[1]),to:JSON.parse(n[0]+"T"+r[1]),limit:o.limit};console.log(String(n)),t.post("http://pcstehlik.fit.vutbr.cz:5555/v2/events/"+o.limit,a).success(function(t){console.log(t),e.data=t,e.filter.btn="Done"})},e.enableTable=!0,e.events=function(t){var o=[];""!=e.filter.proto&&(50==i&&(console.log("filtering proto"),i=0),"Source"in t&&"Proto"in t.Source[0]&&t.Source[0].Proto[0].toLowerCase().indexOf(e.filter.proto.toLowerCase())>-1?o.push(1):o.push(0)),""!=e.filter.category&&(t.Category[0].toLowerCase().indexOf(e.filter.category.toLowerCase())>-1?o.push(1):o.push(0)),""!=e.filter.desc&&(t.Description.toLowerCase().indexOf(e.filter.desc.toLowerCase())>-1?o.push(1):o.push(0)),""!=e.filter.flows_from&&(t.FlowCount>Number(e.filter.flows_from)?o.push(1):o.push(0)),""!=e.filter.flows_to&&(t.FlowCount<Number(e.filter.flows_to)?o.push(1):o.push(0));for(var n=1,i=0;i<o.length;i++)n*=o[i];return 1==n?!0:!1}}]),app.value("boxes_arr",[{row:0,height:"",items:[{title:"one",type:"piechart",content:"",config:{metric:"category",period:"24",begintime:""}},{title:"10 TOP SCANPORTS",type:"graph",data:"",timestamp:"",options:{chart:{type:"multiBarChart",height:300,margin:{top:0,right:0,bottom:0,left:0},x:function(e){return e.x},y:function(e){return e.y},useInteractiveGuideline:!0,dispatch:{stateChange:function(e){console.log("stateChange")},changeState:function(e){console.log("changeState")}},xAxis:{axisLabel:"Time (ms)",tickFormat:function(e){return d3.time.format("%x/%X")(new Date(e))}},yAxis:{axisLabel:"Voltage (v)",tickFormat:function(e){return d3.format(".02f")(e)},axisLabelDistance:0}},title:{enable:!0,text:"Title for Line Chart 2"}}},{title:"four",type:"incident"}]},{row:1,items:[{title:"Last 1000 events",type:"graph",options:{chart:{type:"pieChart",height:500,x:function(e){return e.key},y:function(e){return e.y},showLabels:!0,donut:!0,padAngle:.02,cornerRadius:3,transitionDuration:500,labelThreshold:.1,color:["#0ec4f4","#631FF6","#FFDC06","#FF8406","#b56969","#e6cf8b"],legend:{margin:{top:0,right:100,bottom:5,left:0}}}}},{title:"2",type:"incident"}]}]),app.controller("userController",["$scope",function(e){console.log("hello!")}]),app.controller("homeController",["$scope","$mdSidenav","$log","$sce","api","$mdDialog","$timeout","boxes_arr","$http","$rootScope",function(e,t,o,n,i,r,a,s,l,c){e.boxes_arr=s,e.title="Home sweet home",e.$on("reqChangeMode",function(t){void 0==e.editMode?e.editMode=!0:e.editMode=!e.editMode}),e.addRow=function(){o.info("adding row"),console.log(s);var e={};e.row=s.length,e.items=[{title:"aloha!"}],s.push(e)},e.showTitle=!0}]),app.constant("MENU",[{title:"Dashboard"},{title:"Events",link:"events"},{title:"Settings",items:[{title:"Users",link:"settings"},{title:"My profile",link:"profile"},{title:"My profile",link:"profile"}]}]),app.factory("confirmLogout",function(){return function(){}}),app.controller("topBar",topBarCtrl),app.controller("row",["$scope","$timeout",function(e,t){e.$on("requestRedraw",function(e){e.stopPropagation(),t(function(){console.log("request accepted"),window.dispatchEvent(new Event("resize"))},10)})}]),app.controller("box",["$scope","$log","boxes_arr","$timeout","jsondata","$element","$mdDialog","PROTOCOLS","TYPES","CATEGORIES","$http","PIECHART",function(e,t,o,n,i,r,a,s,l,c,u,f){function h(){void 0!=e.box&&"piechart"==e.box.type&&(e.box.config.begintime=function(){var t=new Date;return t.setHours(t.getHours()-e.box.config.period),console.log(t),t}())}h(),e.openMenu=function(e,t){originatorEv=t,e(t)},e.editMode=!1,e.backupModel={},e.protocol=s,e.types=l,e.categories=c,e.edit=function(t){e.editMode=!0,e.backupModel=angular.copy(t)},e.save=function(){e.backupModel={},t.info("Edit is done"),t.info(JSON.stringify(e.box)),e.editMode=!1,h(),u.post("http://benefizio.liberouter.org:5555/v2/events/agg",JSON.stringify(e.box.config)).success(function(t){console.log(t),e.box.data=t})},e.cancel=function(t){e.box=angular.copy(e.backupModel),e.backupModel={},e.editMode=!1},console.log(e.box),void 0!=e.box&&"piechart"==e.box.type&&(e.box.options=f.options,e.box.config.type="areachart",t.info(JSON.stringify(e.box.config)),u.post("http://benefizio.liberouter.org:5555/v2/events/agg",JSON.stringify(e.box.config)).success(function(t){console.log(t),e.box.data=t})),e.addElem=function(n){t.info("adding element");var i={};e.full=!1,o[n].items.length>5?e.full=!0:o[n].items.push(i),e.$emit("requestRedraw")},e.removeElem=function(n,i){t.info(n),t.info(i),o[n].items.splice(i,1);var r={};0==o[n].items.length&&(r=o[n].items[i],o.splice(n,1)),e.$emit("requestRedraw")}}]),app.controller("loginController",["$scope","$location","$log","loginAuth","$rootScope","localStorageService",function(e,t,o,n,i,r){e.title="Login!",e.loginBtn="Login",e.submit=function(e){console.log(e)},e.hitSubmit=function(i){console.log("test"),e.loginBtn="Please wait...",n.fetchUser(i).success(function(n){o.info(n),1==n.success?(e.loginBtn="Success",t.path("/"),r.set("loggedIn",!0),r.set("loggedIn.pw",sha256_digest(n.password))):(o.error("error - bad password"),e.error_mes="Bad password",e.loginBtn="Login",loginCorrect=!1,r.set("loggedIn",!1))})}}]),app.factory("menu",["$http",function(e){return e.get("json/menu.json").success(function(e){return e})}]),app.factory("jsondata",["$http",function(e){return e.get("json/testfile_100.json").success(function(e){return e})}]),app.factory("api",["$http",function(e){return function(t){var o="http://pcstehlik.fit.vutbr.cz:5555/events/"+t;return e.get(o).success(function(e){return e})}}]),app.directive("sidebarMenu",function(){return{scope:{section:"="},templateUrl:"partials/sidebar-menu.html",controller:["$scope","$mdSidenav","MENU",function(e,t,o){e.menu=o,e.changeMode=function(){e.$emit("reqChangeMode")},e.enable=!0,e.toggleItem=function(){e.toggleBtn="toggled"},e.closeLeft=function(){t("left").toggle()}}]}}),app.directive("topbarMenu",function(){return{scope:{section:"="},templateUrl:"partials/topbar-menu.html"}}),app.directive("boxes",function(){return{scope:{section:"="},templateUrl:"partials/boxes.html"}}),app.directive("clickEdit",function(){var e='<div><h2 ng-show="view.showTitle" ng-click="editTitle()">{{box.title}}</h2><md-input-container ng-hide="showTitle"><input type="text" value="{{box.title}}" ng-blur="editTitle(box.title)" ng-model="box.title" class="focusTitle" aria-label="Edit Title"></md-input-container></div>';return{restrict:"A",replace:!0,template:e,scope:{value:"=clickEdit"},controller:["$scope","inputText","$timeout",function(e,t,o){e.view.showTitle=!0,(e.showTitle=!0)&&o(function(){angular.element(".focusTitle").trigger("focus"),console.log("trigger")},100),e.editTitle=function(){e.view.showTitle=!e.view.showTitle}}]}}),app.directive("clickToEdit",function(){var e='<div class="click-to-edit"><div ng-hide="view.editorEnabled" ng-click="enableEditor()"><a ng-click="enableEditor()"><md-icon md-svg-src="img/icons/edit.svg"></md-icon></a>{{value}} </div><md-input-container ng-show="view.editorEnabled"><div><input ng-model="view.editableValue" class="focusTitle" aria-label="Title"><span ng-click="save()">Save</span> or <a ng-click="disableEditor()">cancel</a>.</div></md-input-container></div>';return{restrict:"A",replace:!0,template:e,scope:{value:"=clickToEdit"},controller:["$scope","$timeout",function(e,t){e.view={editableValue:e.value,editorEnabled:!1},e.enableEditor=function(){e.view.editorEnabled=!0,e.view.editableValue=e.value,t(function(){angular.element(".focusTitle").trigger("focus"),console.log("trigger")},100)},e.disableEditor=function(){e.view.editorEnabled=!1},e.save=function(){e.value=e.view.editableValue,e.disableEditor()}}]}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsInNoYTI1Ni5qcyIsImNvbnRyb2xsZXJzL2hvbWVDb250cm9sbGVyLmpzIiwiYXBwLm1pbi5qcyIsImNvbnN0YW50cy5qcyIsIm1lbnVUb2dnbGUuZGlyZWN0aXZlLmpzIiwiY29udHJvbGxlcnMvZXZlbnRzQ29udHJvbGxlci5qcyIsImNvbnRyb2xsZXJzL2xvZ2luQ29udHJvbGxlci5qcyIsInNlcnZpY2VzL21lbnUuanMiXSwibmFtZXMiOlsiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsImxvY2FsU3RvcmFnZVNlcnZpY2VQcm92aWRlciIsIiRtZFRoZW1pbmdQcm92aWRlciIsIndoZW4iLCJjb250cm9sbGVyIiwidGVtcGxhdGVVcmwiLCJyZXNvbHZlIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsInRoZW1lIiwicHJpbWFyeVBhbGV0dGUiLCJhY2NlbnRQYWxldHRlIiwicm90YXRlUmlnaHQiLCJuIiwieCIsImNob2ljZSIsInkiLCJ6IiwibWFqb3JpdHkiLCJzaGEyNTZfU2lnbWEwIiwic2hhMjU2X1NpZ21hMSIsInNoYTI1Nl9zaWdtYTAiLCJzaGEyNTZfc2lnbWExIiwic2hhMjU2X2V4cGFuZCIsIlciLCJqIiwic2FmZV9hZGQiLCJsc3ciLCJtc3ciLCJzaGEyNTZfaW5pdCIsImloYXNoIiwiQXJyYXkiLCJjb3VudCIsImJ1ZmZlciIsInNoYTI1Nl90cmFuc2Zvcm0iLCJhIiwiYiIsImMiLCJkIiwiZSIsImYiLCJnIiwiaCIsIlQxIiwiVDIiLCJpIiwiSzI1NiIsInNoYTI1Nl91cGRhdGUiLCJkYXRhIiwiaW5wdXRMZW4iLCJpbmRleCIsImN1cnBvcyIsInJlbWFpbmRlciIsImNoYXJDb2RlQXQiLCJzaGEyNTZfZmluYWwiLCJzaGEyNTZfZW5jb2RlX2J5dGVzIiwib3V0cHV0Iiwic2hhMjU2X2VuY29kZV9oZXgiLCJTdHJpbmciLCJzaGEyNTZfaGV4X2RpZ2l0cyIsImNoYXJBdCIsInNoYTI1Nl9kaWdlc3QiLCJsZW5ndGgiLCJzaGEyNTZfc2VsZl90ZXN0IiwicHJvY2Vzc0RhdGEiLCJkYXRhQXJyIiwiYW5ndWxhciIsImZvckVhY2giLCJ2YWx1ZSIsImtleSIsInB1c2giLCJ2YWx1ZXMiLCJwaWVDaGFydCIsImNvdW50ZXIiLCJPYmplY3QiLCJkb2N0eXBlIiwidW5kZWZpbmVkIiwidG9wQmFyQ3RybCIsIiRtZERpYWxvZyIsImNvbmZpcm1Mb2dvdXQiLCIkbG9jYXRpb24iLCIkbWRTaWRlbmF2IiwidGhpcyIsInVzZXIiLCJ0b2dnbGVMZWZ0IiwidG9nZ2xlIiwibG9nb3V0IiwiY29uZmlybSIsInRpdGxlIiwiY29udGVudCIsIm9rIiwiY2FuY2VsIiwic2hvdyIsInRoZW4iLCJwYXRoIiwiJGluamVjdCIsImFwcCIsIm1vZHVsZSIsImxvZ2luQ29ycmVjdCIsImNoZWNrTG9naW4iLCIkcm9vdFNjb3BlIiwibG9jYWxTdG9yYWdlU2VydmljZSIsImdldCIsImNvbnNvbGUiLCJsb2ciLCJmaWx0ZXIiLCJyZXBsYWNlIiwiY29uc3RhbnQiLCJsb2dpblN1Y2Nlc3MiLCJsb2dpbkZhaWxlZCIsImxvZ291dFN1Y2Nlc3MiLCJzZXNzaW9uVGltZW91dCIsIm5vdEF1dGhlbnRpY2F0ZWQiLCJub3RBdXRob3JpemVkIiwib3B0aW9ucyIsImNoYXJ0IiwidHlwZSIsImhlaWdodCIsInNob3dMYWJlbHMiLCJkb251dCIsInBhZEFuZ2xlIiwiY29ybmVyUmFkaXVzIiwidHJhbnNpdGlvbkR1cmF0aW9uIiwibGFiZWxUaHJlc2hvbGQiLCJjb2xvciIsImxlZ2VuZCIsIm1hcmdpbiIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsInVzZVZvcm9ub2kiLCJjbGlwRWRnZSIsImR1cmF0aW9uIiwidXNlSW50ZXJhY3RpdmVHdWlkZWxpbmUiLCJ4QXhpcyIsInNob3dNYXhNaW4iLCJ0aWNrRm9ybWF0IiwiZDMiLCJ0aW1lIiwiZm9ybWF0IiwiRGF0ZSIsInlBeGlzIiwiem9vbSIsImVuYWJsZWQiLCJzY2FsZUV4dGVudCIsInVzZUZpeGVkRG9tYWluIiwidXNlTmljZVNjYWxlIiwiaG9yaXpvbnRhbE9mZiIsInZlcnRpY2FsT2ZmIiwidW56b29tRXZlbnRUeXBlIiwiZGlyZWN0aXZlIiwiJHRpbWVvdXQiLCJzY29wZSIsInNlY3Rpb24iLCJsaW5rIiwiZWxlbWVudCIsInBhcmVudCIsImlzT3BlbiIsInRvZ2dsZU9wZW4iLCJwYXJlbnROb2RlIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJoZWFkaW5nIiwicXVlcnlTZWxlY3RvciIsImZpcnN0Q2hpbGQiLCJzZXRBdHRyaWJ1dGUiLCJpZCIsIiRzY29wZSIsIiRodHRwIiwiY2F0ZWdvcnkiLCJwcm90byIsImRlc2MiLCJmbG93c19mcm9tIiwiZmxvd3NfdG8iLCJpdGVtcyIsImJ0biIsInF1ZXJ5IiwiZnJvbSIsInRvIiwiZGF0ZSIsImxpbWl0Iiwic3VjY2VzcyIsInBhcnNlRGF0ZSIsImRhdGVfdG1wIiwic2V0SG91cnMiLCJnZXRIb3VycyIsImZvb2RhdGUiLCJ0b0pTT04iLCJsb2FkSXRlbXMiLCJKU09OIiwic3RyaW5naWZ5Iiwic3BsaXQiLCJmcm9tX3RpbWUiLCJ0b190aW1lIiwic2VuZCIsInBhcnNlIiwicG9zdCIsImVuYWJsZVRhYmxlIiwiZXZlbnRzIiwiaXRlbSIsInJlcyIsIlNvdXJjZSIsIlByb3RvIiwidG9Mb3dlckNhc2UiLCJpbmRleE9mIiwiQ2F0ZWdvcnkiLCJEZXNjcmlwdGlvbiIsIkZsb3dDb3VudCIsIk51bWJlciIsImxvZ2ljdmFsdWUiLCJyb3ciLCJtZXRyaWMiLCJwZXJpb2QiLCJiZWdpbnRpbWUiLCJ0aW1lc3RhbXAiLCJkaXNwYXRjaCIsInN0YXRlQ2hhbmdlIiwiY2hhbmdlU3RhdGUiLCJheGlzTGFiZWwiLCJheGlzTGFiZWxEaXN0YW5jZSIsImVuYWJsZSIsInRleHQiLCIkbG9nIiwiJHNjZSIsImFwaSIsImJveGVzX2FyciIsIiRvbiIsImVkaXRNb2RlIiwiYWRkUm93IiwiaW5mbyIsInRtcCIsInNob3dUaXRsZSIsImZhY3RvcnkiLCJzdG9wUHJvcGFnYXRpb24iLCJ3aW5kb3ciLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnQiLCJqc29uZGF0YSIsIiRlbGVtZW50IiwiUFJPVE9DT0xTIiwiVFlQRVMiLCJDQVRFR09SSUVTIiwiUElFQ0hBUlQiLCJ0aW1lU2hpZnQiLCJib3giLCJub3ciLCJvcGVuTWVudSIsIiRtZE9wZW5NZW51IiwiZXYiLCJvcmlnaW5hdG9yRXYiLCJiYWNrdXBNb2RlbCIsInByb3RvY29sIiwidHlwZXMiLCJjYXRlZ29yaWVzIiwiZWRpdCIsImNvcHkiLCJzYXZlIiwiYWRkRWxlbSIsImZ1bGwiLCIkZW1pdCIsInJlbW92ZUVsZW0iLCJwYXJJbmRleCIsInNwbGljZSIsImxvZ2luQXV0aCIsImxvZ2luQnRuIiwic3VibWl0IiwiaGl0U3VibWl0IiwiZmV0Y2hVc2VyIiwic2V0IiwicGFzc3dvcmQiLCJlcnJvciIsImVycm9yX21lcyIsInVybCIsImFkZHIiLCJNRU5VIiwibWVudSIsImNoYW5nZU1vZGUiLCJ0b2dnbGVJdGVtIiwidG9nZ2xlQnRuIiwiY2xvc2VMZWZ0IiwidGVtcGxhdGUiLCJyZXN0cmljdCIsImlucHV0VGV4dCIsInZpZXciLCJ0cmlnZ2VyIiwiZWRpdFRpdGxlIiwiZWRpdG9yVGVtcGxhdGUiLCJlZGl0YWJsZVZhbHVlIiwiZWRpdG9yRW5hYmxlZCIsImVuYWJsZUVkaXRvciIsImRpc2FibGVFZGl0b3IiXSwibWFwcGluZ3MiOiJBQVVBLFFBQUFBLFFBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0FILEVBQ0FJLEtBQUEsVUFDQUMsV0FBQSxrQkFDQUMsWUFBQSxtQkFDQUMsYUFJQUgsS0FBQSxLQUNBQyxXQUFBLGlCQUNBQyxZQUFBLGtCQUNBQyxhQUlBSCxLQUFBLFNBQ0FDLFdBQUEsaUJBQ0FDLFlBQUEsbUJBQ0FDLGFBSUFILEtBQUEsV0FDQUMsV0FBQSxtQkFDQUMsWUFBQSxzQkFFQUUsV0FDQUMsV0FBQSxXQUdBTixFQUFBTyxNQUFBLFdBQUFDLGVBQUEsY0FBQUMs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QUNBK0ssU0FBQU0sRUFDQXRJLE9BQ0FyRixNQUFBLGdCQUVBaEUsWUFBQSxTQUFBLFdBQUEsU0FBQW9LLEVBQUFoQixHQUNBZ0IsRUFBQW9ILE1BQ0FJLGNBQUF4SCxFQUFBcEcsTUFDQTZOLGVBQUEsR0FHQXpILEVBQUEwSCxhQUFBLFdBQ0ExSCxFQUFBb0gsS0FBQUssZUFBQSxFQUNBekgsRUFBQW9ILEtBQUFJLGNBQUF4SCxFQUFBcEcsTUFFQW9GLEVBQUEsV0FDQXRGLFFBQUEwRixRQUFBLGVBQUFpSSxRQUFBLFNBQ0F0TCxRQUFBQyxJQUFBLFlBQ0EsTUFHQWdFLEVBQUEySCxjQUFBLFdBQ0EzSCxFQUFBb0gsS0FBQUssZUFBQSxHQUdBekgsRUFBQXlGLEtBQUEsV0FDQXpGLEVBQUFwRyxNQUFBb0csRUFBQW9ILEtBQUFJLGNBQ0F4SCxFQUFBMkgiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnZ3VpJywgWyduZ0FuaW1hdGUnLCAnbmdNYXRlcmlhbCcsICduZ1JvdXRlJywgJ25nTWVzc2FnZXMnLCAnbnZkMycsICdMb2NhbFN0b3JhZ2VNb2R1bGUnXSk7XG5cbmFwcC5jb25maWcoY29uZmlnKTtcblxuLy92YXIgZGIgPSBuZXcgUG91Y2hEQignaHR0cDovL2xvY2FsaG9zdDo1OTg0L3VzZXJzJyk7XG5cbi8vIGRiLmluZm8oKS50aGVuKGZ1bmN0aW9uIChpbmZvKSB7XG4vLyAgIGNvbnNvbGUubG9nKGluZm8pO1xuLy8gfSlcblxuZnVuY3Rpb24gY29uZmlnKCRyb3V0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlciwgbG9jYWxTdG9yYWdlU2VydmljZVByb3ZpZGVyLCAkbWRUaGVtaW5nUHJvdmlkZXIpIHtcblx0JHJvdXRlUHJvdmlkZXJcblx0XHQud2hlbignL2xvZ2luJywge1xuXHRcdFx0Y29udHJvbGxlcjogJ2xvZ2luQ29udHJvbGxlcicsXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2xvZ2luLmh0bWwnLFxuXHRcdFx0cmVzb2x2ZToge1xuXHRcdFx0XHQvL2lzTG9naW46IGNoZWNrTG9naW5cblx0XHRcdH1cblx0XHR9KVxuXHRcdC53aGVuKCcvJywge1xuXHRcdFx0Y29udHJvbGxlcjogJ2hvbWVDb250cm9sbGVyJyxcblx0XHRcdHRlbXBsYXRlVXJsOiAndmlld3MvaG9tZS5odG1sJyxcblx0XHRcdHJlc29sdmU6IHtcblx0XHRcdFx0Ly9pc0xvZ2luOiBjaGVja0xvZ2luXG5cdFx0XHR9XG5cdFx0fSlcblx0XHQud2hlbignL3VzZXInLCB7XG5cdFx0XHRjb250cm9sbGVyOiAndXNlckNvbnRyb2xsZXInLFxuXHRcdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9sb2dpbi5odG1sJyxcblx0XHRcdHJlc29sdmU6IHtcblx0XHRcdFx0Ly9pc0xvZ2luOiBjaGVja0xvZ2luXG5cdFx0XHR9XG5cdFx0fSlcbiAgICAgICAgLndoZW4oJy9ldmVudHMnLCB7XG4gICAgICAgICAgICBjb250cm9sbGVyIDogJ2V2ZW50c0NvbnRyb2xsZXInLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOiAndmlld3MvZXZlbnRzLmh0bWwnXG4gICAgICAgIH0pXG5cdFx0Lm90aGVyd2lzZSh7XG5cdFx0XHRyZWRpcmVjdFRvOiAnL2xvZ2luJ1xuXHRcdH0pO1xuXG4gICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdkZWZhdWx0JykucHJpbWFyeVBhbGV0dGUoJ2xpZ2h0LWJsdWUnKS5hY2NlbnRQYWxldHRlKCdvcmFuZ2UnKTtcblxuXHQvLyBsb2NhbFN0b3JhZ2VTZXJ2aWNlUHJvdmlkZXJcblx0Ly8gXHQuc2V0UHJlZml4KCduZW1lYS1kYXNoYm9hcmQnKVxuXHQvLyBcdC8vUFJPRFVDVElPTlxuXHQvLyBcdC8vLnNldFN0b3JhZ2VDb29raWVEb21haW4od2luZG93LmxvY2F0aW9uKVxuXHQvLyBcdC8vREVWXG5cdC8vIFx0LnNldFN0b3JhZ2VDb29raWVEb21haW4oJycpXG5cdC8vIFx0O1xuXG4vL1x0JGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xufTtcblxuLy8gJHJvb3RTY29wZS4kb24oJyRyb3V0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24gKGV2ZW50LCBuZXh0KSB7XG4vLyAgICAgICAgIHZhciB1c2VyQXV0aGVudGljYXRlZCA9IGZhbHNlOyAvKiBDaGVjayBpZiB0aGUgdXNlciBpcyBsb2dnZWQgaW4gKi9cblxuLy8gICAgICAgICBpZiAoIXVzZXJBdXRoZW50aWNhdGVkICYmICFuZXh0LmlzTG9naW4pIHtcbi8vICAgICAgICAgICAgICRyb290U2NvcGUuc2F2ZWRMb2NhdGlvbiA9ICRsb2NhdGlvbi51cmwoKTtcblxuLy8gICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xuLy8gICAgICAgICB9XG4vLyAgICAgfSk7XG5cbnZhciBsb2dpbkNvcnJlY3QgPSBudWxsO1xuXG5jaGVja0xvZ2luID0gZnVuY3Rpb24oJHJvb3RTY29wZSwgJGxvY2F0aW9uLCBsb2NhbFN0b3JhZ2VTZXJ2aWNlKSB7XG5cdC8vIGNvbnNvbGUubG9nKFwibG9naW46IFwiICsgbG9naW5Db3JyZWN0KTtcblx0Ly8gY29uc29sZS5sb2cobG9jYWxTdG9yYWdlU2VydmljZS5rZXlzKCkpO1xuXHQvLyBpZiAobG9jYWxTdG9yYWdlU2VydmljZS5rZXlzKCkgPT0gJycpIHtcblx0Ly8gXHRsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldCgnbG9nZ2VkSW4nLCBudWxsKTtcblx0Ly8gfVxuXG5cdC8vJHJvb3RTY29wZS4kb24oXCIkbG9jYXRpb25DaGFuZ2VTdGFydFwiLCBmdW5jdGlvbihldmVudCl7XG5cbiAgICBcdC8vIGlmIChsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldChcImxvZ2dlZEluXCIpKSB7XG4gICAgXHQvLyBcdC8vJGxvY2F0aW9uLnBhdGgoXCIvXCIpO1xuICAgIFx0Ly8gXHRjb25zb2xlLmxvZyhcImNvcnJlY3RcIilcdFxuICAgIFx0Ly8gfVxuICAgIFx0Ly8gZWxzZSB7XG4gICAgXHQvLyBcdCRsb2NhdGlvbi5wYXRoKFwiL2xvZ2luXCIpO1xuICAgIFx0Ly8gfVxuXHQvL30pXG5cblx0XHRpZiAobG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJsb2dnZWRJblwiKSkge1xuICAgIFx0XHQvLyRsb2NhdGlvbi5wYXRoKFwiL1wiKTtcbiAgICBcdFx0Y29uc29sZS5sb2coXCJjb3JyZWN0XCIpXHRcbiAgICBcdH1cbiAgICBcdGVsc2Uge1xuICAgIFx0XHQkbG9jYXRpb24ucGF0aChcIi9sb2dpblwiKTtcbiAgICBcdH1cblxuXHRyZXR1cm4gZmFsc2U7XG59XG5cbi8vdGFrZSBhbGwgd2hpdGVzcGFjZSBvdXQgb2Ygc3RyaW5nXG5hcHAuZmlsdGVyKCdub3NwYWNlJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gKCF2YWx1ZSkgPyAnJyA6IHZhbHVlLnJlcGxhY2UoLyAvZywgJycpO1xuICAgICAgfTtcbiAgICB9KTtcblxuLy8gQ09OU1RBTlRTXG5cbmFwcC5jb25zdGFudCgnQVVUSF9FVkVOVFMnLCB7XG4gIGxvZ2luU3VjY2VzczogJ2F1dGgtbG9naW4tc3VjY2VzcycsXG4gIGxvZ2luRmFpbGVkOiAnYXV0aC1sb2dpbi1mYWlsZWQnLFxuICBsb2dvdXRTdWNjZXNzOiAnYXV0aC1sb2dvdXQtc3VjY2VzcycsXG4gIHNlc3Npb25UaW1lb3V0OiAnYXV0aC1zZXNzaW9uLXRpbWVvdXQnLFxuICBub3RBdXRoZW50aWNhdGVkOiAnYXV0aC1ub3QtYXV0aGVudGljYXRlZCcsXG4gIG5vdEF1dGhvcml6ZWQ6ICdhdXRoLW5vdC1hdXRob3JpemVkJ1xufSk7XG5cbmFwcC5jb25zdGFudCgnQ0FURUdPUklFUycsIFsgXCJSZWNvbi5TY2FubmluZ1wiLCBcIkF0dGVtcHQuTG9naW5cIiwgXCJBdmFpbGFiaWxpdHkuRG9TXCIgXSk7XG5hcHAuY29uc3RhbnQoJ1BST1RPQ09MUycsIFsgXCJ0Y3BcIiwgXCJkbnNcIiwgXCJ1ZHBcIiBdKTtcbmFwcC5jb25zdGFudCgnVFlQRVMnLCBbXCJoaXN0b2dyYW1cIiwgXCJwaWVjaGFydFwiXSlcbiIsIi8qXG4qIEEgSmF2YVNjcmlwdCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgU0hBMjU2IGhhc2ggZnVuY3Rpb24uXG4qXG4qIEZJTEU6XHRzaGEyNTYuanNcbiogVkVSU0lPTjpcdDAuOFxuKiBBVVRIT1I6XHRDaHJpc3RvcGggQmljaGxtZWllciA8aW5mb3JtYXRpa0B6b21iaWVhcmVuYS5kZT5cbipcbiogTk9URTogVGhpcyB2ZXJzaW9uIGlzIG5vdCB0ZXN0ZWQgdGhvcm91Z2hseSFcbipcbiogQ29weXJpZ2h0IChjKSAyMDAzLCBDaHJpc3RvcGggQmljaGxtZWllclxuKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuKlxuKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zXG4qIGFyZSBtZXQ6XG4qIDEuIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XG4qICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiogMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiogICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuKiAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuKiAzLiBOZWl0aGVyIHRoZSBuYW1lIG9mIHRoZSBjb3B5cmlnaHQgaG9sZGVyIG5vciB0aGUgbmFtZXMgb2YgY29udHJpYnV0b3JzXG4qICAgIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZVxuKiAgICB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbipcbiogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuKlxuKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBBVVRIT1JTICcnQVMgSVMnJyBBTkQgQU5ZIEVYUFJFU1NcbiogT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcbiogV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFXG4qIEFSRSBESVNDTEFJTUVELiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09OVFJJQlVUT1JTIEJFXG4qIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1JcbiogQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0ZcbiogU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SXG4qIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxuKiBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRVxuKiBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLFxuKiBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuKi9cblxuLyogU0hBMjU2IGxvZ2ljYWwgZnVuY3Rpb25zICovXG5mdW5jdGlvbiByb3RhdGVSaWdodChuLHgpIHtcblx0cmV0dXJuICgoeCA+Pj4gbikgfCAoeCA8PCAoMzIgLSBuKSkpO1xufVxuZnVuY3Rpb24gY2hvaWNlKHgseSx6KSB7XG5cdHJldHVybiAoKHggJiB5KSBeICh+eCAmIHopKTtcbn1cbmZ1bmN0aW9uIG1ham9yaXR5KHgseSx6KSB7XG5cdHJldHVybiAoKHggJiB5KSBeICh4ICYgeikgXiAoeSAmIHopKTtcbn1cbmZ1bmN0aW9uIHNoYTI1Nl9TaWdtYTAoeCkge1xuXHRyZXR1cm4gKHJvdGF0ZVJpZ2h0KDIsIHgpIF4gcm90YXRlUmlnaHQoMTMsIHgpIF4gcm90YXRlUmlnaHQoMjIsIHgpKTtcbn1cbmZ1bmN0aW9uIHNoYTI1Nl9TaWdtYTEoeCkge1xuXHRyZXR1cm4gKHJvdGF0ZVJpZ2h0KDYsIHgpIF4gcm90YXRlUmlnaHQoMTEsIHgpIF4gcm90YXRlUmlnaHQoMjUsIHgpKTtcbn1cbmZ1bmN0aW9uIHNoYTI1Nl9zaWdtYTAoeCkge1xuXHRyZXR1cm4gKHJvdGF0ZVJpZ2h0KDcsIHgpIF4gcm90YXRlUmlnaHQoMTgsIHgpIF4gKHggPj4+IDMpKTtcbn1cbmZ1bmN0aW9uIHNoYTI1Nl9zaWdtYTEoeCkge1xuXHRyZXR1cm4gKHJvdGF0ZVJpZ2h0KDE3LCB4KSBeIHJvdGF0ZVJpZ2h0KDE5LCB4KSBeICh4ID4+PiAxMCkpO1xufVxuZnVuY3Rpb24gc2hhMjU2X2V4cGFuZChXLCBqKSB7XG5cdHJldHVybiAoV1tqJjB4MGZdICs9IHNoYTI1Nl9zaWdtYTEoV1soaisxNCkmMHgwZl0pICsgV1soais5KSYweDBmXSArIFxuc2hhMjU2X3NpZ21hMChXWyhqKzEpJjB4MGZdKSk7XG59XG5cbi8qIEhhc2ggY29uc3RhbnQgd29yZHMgSzogKi9cbnZhciBLMjU2ID0gbmV3IEFycmF5KFxuXHQweDQyOGEyZjk4LCAweDcxMzc0NDkxLCAweGI1YzBmYmNmLCAweGU5YjVkYmE1LFxuXHQweDM5NTZjMjViLCAweDU5ZjExMWYxLCAweDkyM2Y4MmE0LCAweGFiMWM1ZWQ1LFxuXHQweGQ4MDdhYTk4LCAweDEyODM1YjAxLCAweDI0MzE4NWJlLCAweDU1MGM3ZGMzLFxuXHQweDcyYmU1ZDc0LCAweDgwZGViMWZlLCAweDliZGMwNmE3LCAweGMxOWJmMTc0LFxuXHQweGU0OWI2OWMxLCAweGVmYmU0Nzg2LCAweDBmYzE5ZGM2LCAweDI0MGNhMWNjLFxuXHQweDJkZTkyYzZmLCAweDRhNzQ4NGFhLCAweDVjYjBhOWRjLCAweDc2Zjk4OGRhLFxuXHQweDk4M2U1MTUyLCAweGE4MzFjNjZkLCAweGIwMDMyN2M4LCAweGJmNTk3ZmM3LFxuXHQweGM2ZTAwYmYzLCAweGQ1YTc5MTQ3LCAweDA2Y2E2MzUxLCAweDE0MjkyOTY3LFxuXHQweDI3YjcwYTg1LCAweDJlMWIyMTM4LCAweDRkMmM2ZGZjLCAweDUzMzgwZDEzLFxuXHQweDY1MGE3MzU0LCAweDc2NmEwYWJiLCAweDgxYzJjOTJlLCAweDkyNzIyYzg1LFxuXHQweGEyYmZlOGExLCAweGE4MWE2NjRiLCAweGMyNGI4YjcwLCAweGM3NmM1MWEzLFxuXHQweGQxOTJlODE5LCAweGQ2OTkwNjI0LCAweGY0MGUzNTg1LCAweDEwNmFhMDcwLFxuXHQweDE5YTRjMTE2LCAweDFlMzc2YzA4LCAweDI3NDg3NzRjLCAweDM0YjBiY2I1LFxuXHQweDM5MWMwY2IzLCAweDRlZDhhYTRhLCAweDViOWNjYTRmLCAweDY4MmU2ZmYzLFxuXHQweDc0OGY4MmVlLCAweDc4YTU2MzZmLCAweDg0Yzg3ODE0LCAweDhjYzcwMjA4LFxuXHQweDkwYmVmZmZhLCAweGE0NTA2Y2ViLCAweGJlZjlhM2Y3LCAweGM2NzE3OGYyXG4pO1xuXG4vKiBnbG9iYWwgYXJyYXlzICovXG52YXIgaWhhc2gsIGNvdW50LCBidWZmZXI7XG52YXIgc2hhMjU2X2hleF9kaWdpdHMgPSBcIjAxMjM0NTY3ODlhYmNkZWZcIjtcblxuLyogQWRkIDMyLWJpdCBpbnRlZ2VycyB3aXRoIDE2LWJpdCBvcGVyYXRpb25zIChidWcgaW4gc29tZSBKUy1pbnRlcnByZXRlcnM6IFxub3ZlcmZsb3cpICovXG5mdW5jdGlvbiBzYWZlX2FkZCh4LCB5KVxue1xuXHR2YXIgbHN3ID0gKHggJiAweGZmZmYpICsgKHkgJiAweGZmZmYpO1xuXHR2YXIgbXN3ID0gKHggPj4gMTYpICsgKHkgPj4gMTYpICsgKGxzdyA+PiAxNik7XG5cdHJldHVybiAobXN3IDw8IDE2KSB8IChsc3cgJiAweGZmZmYpO1xufVxuXG4vKiBJbml0aWFsaXNlIHRoZSBTSEEyNTYgY29tcHV0YXRpb24gKi9cbmZ1bmN0aW9uIHNoYTI1Nl9pbml0KCkge1xuXHRpaGFzaCA9IG5ldyBBcnJheSg4KTtcblx0Y291bnQgPSBuZXcgQXJyYXkoMik7XG5cdGJ1ZmZlciA9IG5ldyBBcnJheSg2NCk7XG5cdGNvdW50WzBdID0gY291bnRbMV0gPSAwO1xuXHRpaGFzaFswXSA9IDB4NmEwOWU2Njc7XG5cdGloYXNoWzFdID0gMHhiYjY3YWU4NTtcblx0aWhhc2hbMl0gPSAweDNjNmVmMzcyO1xuXHRpaGFzaFszXSA9IDB4YTU0ZmY1M2E7XG5cdGloYXNoWzRdID0gMHg1MTBlNTI3Zjtcblx0aWhhc2hbNV0gPSAweDliMDU2ODhjO1xuXHRpaGFzaFs2XSA9IDB4MWY4M2Q5YWI7XG5cdGloYXNoWzddID0gMHg1YmUwY2QxOTtcbn1cblxuLyogVHJhbnNmb3JtIGEgNTEyLWJpdCBtZXNzYWdlIGJsb2NrICovXG5mdW5jdGlvbiBzaGEyNTZfdHJhbnNmb3JtKCkge1xuXHR2YXIgYSwgYiwgYywgZCwgZSwgZiwgZywgaCwgVDEsIFQyO1xuXHR2YXIgVyA9IG5ldyBBcnJheSgxNik7XG5cblx0LyogSW5pdGlhbGl6ZSByZWdpc3RlcnMgd2l0aCB0aGUgcHJldmlvdXMgaW50ZXJtZWRpYXRlIHZhbHVlICovXG5cdGEgPSBpaGFzaFswXTtcblx0YiA9IGloYXNoWzFdO1xuXHRjID0gaWhhc2hbMl07XG5cdGQgPSBpaGFzaFszXTtcblx0ZSA9IGloYXNoWzRdO1xuXHRmID0gaWhhc2hbNV07XG5cdGcgPSBpaGFzaFs2XTtcblx0aCA9IGloYXNoWzddO1xuXG4gICAgICAgIC8qIG1ha2UgMzItYml0IHdvcmRzICovXG5cdGZvcih2YXIgaT0wOyBpPDE2OyBpKyspXG5cdFx0V1tpXSA9ICgoYnVmZmVyWyhpPDwyKSszXSkgfCAoYnVmZmVyWyhpPDwyKSsyXSA8PCA4KSB8IChidWZmZXJbKGk8PDIpKzFdIFxuPDwgMTYpIHwgKGJ1ZmZlcltpPDwyXSA8PCAyNCkpO1xuXG4gICAgICAgIGZvcih2YXIgaj0wOyBqPDY0OyBqKyspIHtcblx0XHRUMSA9IGggKyBzaGEyNTZfU2lnbWExKGUpICsgY2hvaWNlKGUsIGYsIGcpICsgSzI1NltqXTtcblx0XHRpZihqIDwgMTYpIFQxICs9IFdbal07XG5cdFx0ZWxzZSBUMSArPSBzaGEyNTZfZXhwYW5kKFcsIGopO1xuXHRcdFQyID0gc2hhMjU2X1NpZ21hMChhKSArIG1ham9yaXR5KGEsIGIsIGMpO1xuXHRcdGggPSBnO1xuXHRcdGcgPSBmO1xuXHRcdGYgPSBlO1xuXHRcdGUgPSBzYWZlX2FkZChkLCBUMSk7XG5cdFx0ZCA9IGM7XG5cdFx0YyA9IGI7XG5cdFx0YiA9IGE7XG5cdFx0YSA9IHNhZmVfYWRkKFQxLCBUMik7XG4gICAgICAgIH1cblxuXHQvKiBDb21wdXRlIHRoZSBjdXJyZW50IGludGVybWVkaWF0ZSBoYXNoIHZhbHVlICovXG5cdGloYXNoWzBdICs9IGE7XG5cdGloYXNoWzFdICs9IGI7XG5cdGloYXNoWzJdICs9IGM7XG5cdGloYXNoWzNdICs9IGQ7XG5cdGloYXNoWzRdICs9IGU7XG5cdGloYXNoWzVdICs9IGY7XG5cdGloYXNoWzZdICs9IGc7XG5cdGloYXNoWzddICs9IGg7XG59XG5cbi8qIFJlYWQgdGhlIG5leHQgY2h1bmsgb2YgZGF0YSBhbmQgdXBkYXRlIHRoZSBTSEEyNTYgY29tcHV0YXRpb24gKi9cbmZ1bmN0aW9uIHNoYTI1Nl91cGRhdGUoZGF0YSwgaW5wdXRMZW4pIHtcblx0dmFyIGksIGluZGV4LCBjdXJwb3MgPSAwO1xuXHQvKiBDb21wdXRlIG51bWJlciBvZiBieXRlcyBtb2QgNjQgKi9cblx0aW5kZXggPSAoKGNvdW50WzBdID4+IDMpICYgMHgzZik7XG4gICAgICAgIHZhciByZW1haW5kZXIgPSAoaW5wdXRMZW4gJiAweDNmKTtcblxuXHQvKiBVcGRhdGUgbnVtYmVyIG9mIGJpdHMgKi9cblx0aWYgKChjb3VudFswXSArPSAoaW5wdXRMZW4gPDwgMykpIDwgKGlucHV0TGVuIDw8IDMpKSBjb3VudFsxXSsrO1xuXHRjb3VudFsxXSArPSAoaW5wdXRMZW4gPj4gMjkpO1xuXG5cdC8qIFRyYW5zZm9ybSBhcyBtYW55IHRpbWVzIGFzIHBvc3NpYmxlICovXG5cdGZvcihpPTA7IGkrNjM8aW5wdXRMZW47IGkrPTY0KSB7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBqPWluZGV4OyBqPDY0OyBqKyspXG5cdFx0XHRidWZmZXJbal0gPSBkYXRhLmNoYXJDb2RlQXQoY3VycG9zKyspO1xuXHRcdHNoYTI1Nl90cmFuc2Zvcm0oKTtcblx0XHRpbmRleCA9IDA7XG5cdH1cblxuXHQvKiBCdWZmZXIgcmVtYWluaW5nIGlucHV0ICovXG5cdGZvcih2YXIgaj0wOyBqPHJlbWFpbmRlcjsgaisrKVxuXHRcdGJ1ZmZlcltqXSA9IGRhdGEuY2hhckNvZGVBdChjdXJwb3MrKyk7XG59XG5cbi8qIEZpbmlzaCB0aGUgY29tcHV0YXRpb24gYnkgb3BlcmF0aW9ucyBzdWNoIGFzIHBhZGRpbmcgKi9cbmZ1bmN0aW9uIHNoYTI1Nl9maW5hbCgpIHtcblx0dmFyIGluZGV4ID0gKChjb3VudFswXSA+PiAzKSAmIDB4M2YpO1xuICAgICAgICBidWZmZXJbaW5kZXgrK10gPSAweDgwO1xuICAgICAgICBpZihpbmRleCA8PSA1Nikge1xuXHRcdGZvcih2YXIgaT1pbmRleDsgaTw1NjsgaSsrKVxuXHRcdFx0YnVmZmVyW2ldID0gMDtcbiAgICAgICAgfSBlbHNlIHtcblx0XHRmb3IodmFyIGk9aW5kZXg7IGk8NjQ7IGkrKylcblx0XHRcdGJ1ZmZlcltpXSA9IDA7XG4gICAgICAgICAgICAgICAgc2hhMjU2X3RyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpPDU2OyBpKyspXG5cdFx0XHRidWZmZXJbaV0gPSAwO1xuXHR9XG4gICAgICAgIGJ1ZmZlcls1Nl0gPSAoY291bnRbMV0gPj4+IDI0KSAmIDB4ZmY7XG4gICAgICAgIGJ1ZmZlcls1N10gPSAoY291bnRbMV0gPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgIGJ1ZmZlcls1OF0gPSAoY291bnRbMV0gPj4+IDgpICYgMHhmZjtcbiAgICAgICAgYnVmZmVyWzU5XSA9IGNvdW50WzFdICYgMHhmZjtcbiAgICAgICAgYnVmZmVyWzYwXSA9IChjb3VudFswXSA+Pj4gMjQpICYgMHhmZjtcbiAgICAgICAgYnVmZmVyWzYxXSA9IChjb3VudFswXSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgYnVmZmVyWzYyXSA9IChjb3VudFswXSA+Pj4gOCkgJiAweGZmO1xuICAgICAgICBidWZmZXJbNjNdID0gY291bnRbMF0gJiAweGZmO1xuICAgICAgICBzaGEyNTZfdHJhbnNmb3JtKCk7XG59XG5cbi8qIFNwbGl0IHRoZSBpbnRlcm5hbCBoYXNoIHZhbHVlcyBpbnRvIGFuIGFycmF5IG9mIGJ5dGVzICovXG5mdW5jdGlvbiBzaGEyNTZfZW5jb2RlX2J5dGVzKCkge1xuICAgICAgICB2YXIgaj0wO1xuICAgICAgICB2YXIgb3V0cHV0ID0gbmV3IEFycmF5KDMyKTtcblx0Zm9yKHZhciBpPTA7IGk8ODsgaSsrKSB7XG5cdFx0b3V0cHV0W2orK10gPSAoKGloYXNoW2ldID4+PiAyNCkgJiAweGZmKTtcblx0XHRvdXRwdXRbaisrXSA9ICgoaWhhc2hbaV0gPj4+IDE2KSAmIDB4ZmYpO1xuXHRcdG91dHB1dFtqKytdID0gKChpaGFzaFtpXSA+Pj4gOCkgJiAweGZmKTtcblx0XHRvdXRwdXRbaisrXSA9IChpaGFzaFtpXSAmIDB4ZmYpO1xuXHR9XG5cdHJldHVybiBvdXRwdXQ7XG59XG5cbi8qIEdldCB0aGUgaW50ZXJuYWwgaGFzaCBhcyBhIGhleCBzdHJpbmcgKi9cbmZ1bmN0aW9uIHNoYTI1Nl9lbmNvZGVfaGV4KCkge1xuXHR2YXIgb3V0cHV0ID0gbmV3IFN0cmluZygpO1xuXHRmb3IodmFyIGk9MDsgaTw4OyBpKyspIHtcblx0XHRmb3IodmFyIGo9Mjg7IGo+PTA7IGotPTQpXG5cdFx0XHRvdXRwdXQgKz0gc2hhMjU2X2hleF9kaWdpdHMuY2hhckF0KChpaGFzaFtpXSA+Pj4gaikgJiAweDBmKTtcblx0fVxuXHRyZXR1cm4gb3V0cHV0O1xufVxuXG4vKiBNYWluIGZ1bmN0aW9uOiByZXR1cm5zIGEgaGV4IHN0cmluZyByZXByZXNlbnRpbmcgdGhlIFNIQTI1NiB2YWx1ZSBvZiB0aGUgXG5naXZlbiBkYXRhICovXG5mdW5jdGlvbiBzaGEyNTZfZGlnZXN0KGRhdGEpIHtcblx0c2hhMjU2X2luaXQoKTtcblx0c2hhMjU2X3VwZGF0ZShkYXRhLCBkYXRhLmxlbmd0aCk7XG5cdHNoYTI1Nl9maW5hbCgpO1xuICAgICAgICByZXR1cm4gc2hhMjU2X2VuY29kZV9oZXgoKTtcbn1cblxuLyogdGVzdCBpZiB0aGUgSlMtaW50ZXJwcmV0ZXIgaXMgd29ya2luZyBwcm9wZXJseSAqL1xuZnVuY3Rpb24gc2hhMjU2X3NlbGZfdGVzdCgpXG57XG5cdHJldHVybiBzaGEyNTZfZGlnZXN0KFwibWVzc2FnZSBkaWdlc3RcIikgPT0gXG5cImY3ODQ2ZjU1Y2YyM2UxNGVlYmVhYjViNGUxNTUwY2FkNWI1MDllMzM0OGZiYzRlZmEzYTE0MTNkMzkzY2I2NTBcIjtcbn1cblxuXG4iLCJhcHAudmFsdWUoJ2JveGVzX2FycicsIFtcbiAgeyBcbiAgICBcInJvd1wiICAgOiAwLFxuICAgIFwiaGVpZ2h0XCIgOiBcIlwiLFxuICAgIFwiaXRlbXNcIiA6IFtcbiAgICAgIHtcbiAgICAgICAgXCJ0aXRsZVwiICAgOiBcIm9uZVwiLFxuICAgICAgICBcInR5cGVcIiAgICA6IFwicGllY2hhcnRcIixcbiAgICAgICAgXCJjb250ZW50XCIgOiBcIlwiLFxuICAgICAgICBcImNvbmZpZ1wiICA6IHtcbiAgICAgICAgICAgIFwibWV0cmljXCIgOiBcImNhdGVnb3J5XCIsXG4gICAgICAgICAgICBcInBlcmlvZFwiIDogXCIyNFwiLFxuICAgICAgICAgICAgXCJiZWdpbnRpbWVcIiA6IFwiXCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgXCJ0aXRsZVwiICAgOiBcIjEwIFRPUCBTQ0FOUE9SVFNcIixcbiAgICAgICAgXCJ0eXBlXCIgICAgOiBcImdyYXBoXCIsXG4gICAgICAgIFwiZGF0YVwiICAgIDogXCJcIixcbiAgICAgICAgXCJ0aW1lc3RhbXBcIjogXCJcIixcbiAgICAgICAgXCJvcHRpb25zXCIgOiB7IFxuICAgICAgICAgICAgY2hhcnQ6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbXVsdGlCYXJDaGFydCcsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAzMDAsXG4gICAgICAgICAgICAgICAgbWFyZ2luIDoge1xuICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICAgICAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHg6IGZ1bmN0aW9uKGQpeyByZXR1cm4gZC54OyB9LFxuICAgICAgICAgICAgICAgIHk6IGZ1bmN0aW9uKGQpeyByZXR1cm4gZC55OyB9LFxuICAgICAgICAgICAgICAgIHVzZUludGVyYWN0aXZlR3VpZGVsaW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRpc3BhdGNoOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlQ2hhbmdlOiBmdW5jdGlvbihlKXsgY29uc29sZS5sb2coXCJzdGF0ZUNoYW5nZVwiKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlU3RhdGU6IGZ1bmN0aW9uKGUpeyBjb25zb2xlLmxvZyhcImNoYW5nZVN0YXRlXCIpOyB9LFxuICAgICAgICAgICAgICAgICAgICAvL3Rvb2x0aXBTaG93OiBmdW5jdGlvbihlKXsgY29uc29sZS5sb2coXCJ0b29sdGlwU2hvd1wiKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgLy90b29sdGlwSGlkZTogZnVuY3Rpb24oZSl7IGNvbnNvbGUubG9nKFwidG9vbHRpcEhpZGVcIik7IH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHhBeGlzOiB7XG4gICAgICAgICAgICAgICAgICAgIGF4aXNMYWJlbDogJ1RpbWUgKG1zKScsXG4gICAgICAgICAgICAgICAgICAgIHRpY2tGb3JtYXQ6IGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkMy50aW1lLmZvcm1hdCgnJXgvJVgnKShuZXcgRGF0ZShkKSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeUF4aXM6IHtcbiAgICAgICAgICAgICAgICAgICAgYXhpc0xhYmVsOiAnVm9sdGFnZSAodiknLFxuICAgICAgICAgICAgICAgICAgICB0aWNrRm9ybWF0OiBmdW5jdGlvbihkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkMy5mb3JtYXQoJy4wMmYnKShkKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXhpc0xhYmVsRGlzdGFuY2U6IDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICAgICAgZW5hYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRleHQ6ICdUaXRsZSBmb3IgTGluZSBDaGFydCAyJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8ge1xuICAgICAgLy8gICBcInRpdGxlXCI6IFwidGhyZWVcIixcbiAgICAgIC8vICAgXCJ0eXBlXCIgICAgOiBcImluY2lkZW50XCJcbiAgICAgIC8vIH0sXG4gICAgICB7XG4gICAgICAgIFwidGl0bGVcIjogXCJmb3VyXCIsXG4gICAgICAgIFwidHlwZVwiICAgIDogXCJpbmNpZGVudFwiXG4gICAgICB9XG4gICAgXVxuICB9LFxuICB7IFxuICAgIFwicm93XCIgICA6IDEsXG4gICAgXCJpdGVtc1wiIDogW1xuICAgICAge1xuICAgICAgICBcInRpdGxlXCIgOiBcIkxhc3QgMTAwMCBldmVudHNcIixcbiAgICAgICAgXCJ0eXBlXCIgIDogXCJncmFwaFwiLFxuICAgICAgICAvLyBcImRhdGFcIiAgOiBbXG4gICAgICAgIC8vICAgeyAna2V5JyA6ICdQT1JUU0NBTl9IJyxcbiAgICAgICAgLy8gICAgICd5JzogNjg3XG4gICAgICAgIC8vICAgfSxcbiAgICAgICAgLy8gICB7ICdrZXknIDogJ0ROU0FNUCcsXG4gICAgICAgIC8vICAgICAneSc6IDJcbiAgICAgICAgLy8gICB9LFxuICAgICAgICAvLyAgIHsgJ2tleScgOiAnVk9JUF9QUkVGSVhfR1VFU1MnLFxuICAgICAgICAvLyAgICAgJ3knOiAxODlcbiAgICAgICAgLy8gICB9LFxuICAgICAgICAvLyAgIHsgJ2tleScgOiAnQlJVVEVGT1JDRScsXG4gICAgICAgIC8vICAgICAneSc6IDEyMlxuICAgICAgICAvLyAgIH1dLFxuICAgICAgICBcIm9wdGlvbnNcIjoge1xuICAgICAgICAgICAgY2hhcnQ6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncGllQ2hhcnQnLFxuICAgICAgICAgICAgICAgIGhlaWdodDogNTAwLFxuICAgICAgICAgICAgICAgIHg6IGZ1bmN0aW9uKGQpe3JldHVybiBkLmtleTt9LFxuICAgICAgICAgICAgICAgIHk6IGZ1bmN0aW9uKGQpe3JldHVybiBkLnk7fSxcbiAgICAgICAgICAgICAgICBzaG93TGFiZWxzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRvbnV0IDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwYWRBbmdsZSA6IDAuMDIsXG4gICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzIDogMyxcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uRHVyYXRpb246IDUwMCxcbiAgICAgICAgICAgICAgICBsYWJlbFRocmVzaG9sZDogMC4xLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBbXCIjMGVjNGY0XCIsIFwiIzYzMUZGNlwiLCBcIiNGRkRDMDZcIiwgXCIjRkY4NDA2XCIsIFwiI2I1Njk2OVwiLCBcIiNlNmNmOGJcIl0sXG4gICAgICAgICAgICAgICAgbGVnZW5kOiB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDEwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogNSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IDBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgXCJ0aXRsZVwiOiBcIjJcIixcbiAgICAgICAgXCJ0eXBlXCIgICAgOiBcImluY2lkZW50XCJcbiAgICAgIH0sXG4gICAgXVxuICB9LFxuICBdKTtcblxuLy9hcHAudmFsdWUoJ2VkaXRNb2RlJywgZmFsc2UpO1xuXG5mdW5jdGlvbiBwcm9jZXNzRGF0YShkYXRhKSB7XG4gIHZhciBkYXRhQXJyID0gW107XG4gIGFuZ3VsYXIuZm9yRWFjaChkYXRhLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgLy9jb25zb2xlLmxvZyhkYXRhW2tleV1bXCJzY2FsZVwiXSk7XG4gICAgZGF0YUFyci5wdXNoKHsgeCA6IGRhdGFba2V5XVtcInRpbWVfZmlyc3RcIl0qMTAwMCwgeSA6IGRhdGFba2V5XVtcInNjYWxlXCJdfSk7XG4gIH0pO1xuXG4gIHJldHVybiBbe3ZhbHVlczogZGF0YUFycn1dO1xufTtcblxuZnVuY3Rpb24gcGllQ2hhcnQoZGF0YSkge1xuICB2YXIgY291bnRlciA9IG5ldyBPYmplY3QoKTtcbiAgYW5ndWxhci5mb3JFYWNoKGRhdGEsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgIHZhciBkb2N0eXBlID0gZGF0YVtrZXldWyd0eXBlJ107XG5cbiAgICAgIGlmIChjb3VudGVyW2RvY3R5cGVdICE9IHVuZGVmaW5lZCApIHtcbiAgICAgICAgY291bnRlcltkb2N0eXBlXSArPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY291bnRlcltkb2N0eXBlXSA9IDE7XG4gICAgICB9XG4gIH0pO1xuXG4gIHZhciBkYXRhQXJyID0gW107XG4gIGFuZ3VsYXIuZm9yRWFjaChjb3VudGVyLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgZGF0YUFyci5wdXNoKHtrZXkgOiBrZXksIHkgOiB2YWx1ZX0pO1xuICB9KTtcblxuICByZXR1cm4gZGF0YUFycjtcbn1cblxuYXBwLmNvbnRyb2xsZXIoJ3VzZXJDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlKXtcbiAgY29uc29sZS5sb2coXCJoZWxsbyFcIik7XG59KTtcblxuYXBwLmNvbnRyb2xsZXIoJ2hvbWVDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLCAkbWRTaWRlbmF2LCAkbG9nLCAkc2NlLCBhcGksICRtZERpYWxvZywgJHRpbWVvdXQsIGJveGVzX2FyciwgJGh0dHAsICRyb290U2NvcGUpIHtcblx0JHNjb3BlLmJveGVzX2FyciA9IGJveGVzX2FycjtcbiAgJHNjb3BlLnRpdGxlID0gXCJIb21lIHN3ZWV0IGhvbWVcIjtcbiAgXG4gIC8vU2hvdy9oaWRlIGVkaXQgYnV0dG9ucyBvbiBidXR0b24gY2xpY2tcbiAgLy9AZGVmYXVsdDogaGlkZGVuL2ZhbHNlXG4gICRzY29wZS4kb24oJ3JlcUNoYW5nZU1vZGUnLCBmdW5jdGlvbihlKSB7XG4gICAgaWYgKCRzY29wZS5lZGl0TW9kZSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICRzY29wZS5lZGl0TW9kZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzY29wZS5lZGl0TW9kZSA9ICEoJHNjb3BlLmVkaXRNb2RlKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qdmFyIHJlc3AgPSAkaHR0cC5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9ldmVudHMvdHlwZS9wb3J0c2Nhbi9sYXN0LzEwMCcpXG4gICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgJHNjb3BlLmRhdGEgPSByZXNwb25zZTtcbiAgICAgICAgICByZXR1cm4gcHJvY2Vzc0RhdGEocmVzcG9uc2UpXG4gICAgICAgIH0pXG4gICAgICAgIC5lcnJvcihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLmRhdGEpO1xuKi9cbiAgLyphcGkoJ3R5cGUvcG9ydHNjYW4vdG9wLzEwJykuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG4gICAgdmFyIHByb2NjZXNzZWQgPSBwcm9jZXNzRGF0YShkYXRhKTtcbiAgICAvL2NvbnNvbGUubG9nKHByb2NjZXNzZWQpO1xuICAgIGJveGVzX2FyclswXS5pdGVtc1sxXS5kYXRhID0gcHJvY2Nlc3NlZDtcbiAgICAvL2NvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGJveGVzX2FyclswXS5pdGVtc1sxXS5kYXRhKSk7XG4gIH0pXG5cbiAgYXBpKCd0eXBlL3BvcnRzY2FuL3RvcC8xJykuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG4gICAgLy92YXIgcHJvY2Nlc3NlZCA9IHByb2Nlc3NEYXRhKGRhdGEpO1xuICAgIC8vY29uc29sZS5sb2cocHJvY2Nlc3NlZCk7XG4gICAgLy9ib3hlc19hcnJbMF0uaXRlbXNbMV0uZGF0YSA9IHByb2NjZXNzZWQ7XG4gICAgLy9jb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gIH0pXG5cbiAgYXBpKCdsYXN0LzEwMDAnKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBib3hlc19hcnJbMV0uaXRlbXNbMF0uZGF0YSA9IHBpZUNoYXJ0KGRhdGEpO1xuICAgIC8vY29uc29sZS5sb2cocGllQ2hhcnQoZGF0YSkpO1xuICB9KSovXG5cbiAgXG5cbiAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgLy9ib3hlc19hcnJbMF0uaXRlbXNbMV0uZGF0YSA9IGRhdGE7XG5cblxuICAkc2NvcGUuYWRkUm93ID0gZnVuY3Rpb24oKSB7XG4gICAgJGxvZy5pbmZvKFwiYWRkaW5nIHJvd1wiKTtcbiAgICBjb25zb2xlLmxvZyhib3hlc19hcnIpO1xuICAgIHZhciB0bXAgPSB7fTtcblxuICAgIHRtcC5yb3cgPSBib3hlc19hcnIubGVuZ3RoO1xuICAgIHRtcC5pdGVtcyA9IFt7XG4gICAgICBcInRpdGxlXCIgOiBcImFsb2hhIVwiXG4gICAgfV07XG4gICAgYm94ZXNfYXJyLnB1c2godG1wKTtcbiAgfTtcblxuICAkc2NvcGUuc2hvd1RpdGxlID0gdHJ1ZTtcblxufSk7XG5cblxuYXBwLmNvbnN0YW50KFwiTUVOVVwiLCBbXG5cdHtcblx0XHRcInRpdGxlXCIgOiBcIkRhc2hib2FyZFwiLFxuXHRcdC8qXCJpdGVtc1wiIDogW1xuXHRcdFx0e1xuXHRcdFx0XHRcInRpdGxlXCIgOiBcIlVzZXJzXCIsXG5cdFx0XHRcdFwibGlua1wiXHQ6IFwidXNlclwiXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRcInRpdGxlXCIgOiBcIk15IHByb2ZpbGVcIlxuXHRcdFx0fVxuXHRcdF0qL1xuXHR9LFxuXHR7XG5cdFx0XCJ0aXRsZVwiIDogXCJFdmVudHNcIixcblx0XHRcImxpbmtcIiBcdDogXCJldmVudHNcIlxuXHR9LFxuXHQvKntcblx0XHRcInRpdGxlXCIgOiBcIkFuYWx5dGljczIzXCIsXG5cdFx0XCJpdGVtc1wiIDogW1xuXHRcdFx0e1xuXHRcdFx0XHRcInRpdGxlXCIgOiBcIlVzZXJzXCIsXG5cdFx0XHRcdFwibGlua1wiIFx0OiBcInNldHRpbmdzXCJcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdFwidGl0bGVcIiA6IFwiTXkgcHJvZmlsZVwiLFxuXHRcdFx0XHRcImxpbmtcIlx0OiBcInByb2ZpbGVcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0XCJ0aXRsZVwiIDogXCJNeSBwcm9maWxlXCIsXG5cdFx0XHRcdFwibGlua1wiXHQ6IFwicHJvZmlsZVwiXG5cdFx0XHR9XG5cdFx0XVxuXG5cdH0sXG5cdHtcblx0XHRcInRpdGxlXCIgOiBcIkFuYWx5dGljczEyM1wiLFxuXHRcdFwibGlua1wiIFx0OiBcImxvZ2luXCJcblx0fSwqL1xuXHR7XG5cdFx0XCJ0aXRsZVwiIDogXCJTZXR0aW5nc1wiLFxuXHRcdFwiaXRlbXNcIiA6IFtcblx0XHRcdHtcblx0XHRcdFx0XCJ0aXRsZVwiIDogXCJVc2Vyc1wiLFxuXHRcdFx0XHRcImxpbmtcIiBcdDogXCJzZXR0aW5nc1wiXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRcInRpdGxlXCIgOiBcIk15IHByb2ZpbGVcIixcblx0XHRcdFx0XCJsaW5rXCJcdDogXCJwcm9maWxlXCJcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdFwidGl0bGVcIiA6IFwiTXkgcHJvZmlsZVwiLFxuXHRcdFx0XHRcImxpbmtcIlx0OiBcInByb2ZpbGVcIlxuXHRcdFx0fVxuXHRcdF1cblx0fVxuXSk7XG5cblxuXG5hcHAuZmFjdG9yeSgnY29uZmlybUxvZ291dCcsIGZ1bmN0aW9uKCl7XG5cdHJldHVybiBmdW5jdGlvbiAoKXtcblx0ICAgIFxuXHR9O1xufSk7XG5cbmFwcC5jb250cm9sbGVyKCd0b3BCYXInLCB0b3BCYXJDdHJsKTtcblxuZnVuY3Rpb24gdG9wQmFyQ3RybCgkbWREaWFsb2csIGNvbmZpcm1Mb2dvdXQsICRsb2NhdGlvbiwgJG1kU2lkZW5hdil7XG5cblx0dGhpcy51c2VyID0gXCJQZXRyXCJcblxuICB0aGlzLnRvZ2dsZUxlZnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICRtZFNpZGVuYXYoJ2xlZnQnKS50b2dnbGUoKTtcbiAgICB9O1xuICBcdFxuICB0aGlzLmxvZ291dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxuXHQgICAgICAgIC50aXRsZSgnQXJlIHlvdSBzdXJlPycpXG5cdCAgICAgICAgLmNvbnRlbnQoJ1lvdSBhcmUgYWJvdXQgdG8gYmUgbG9nZ2VkIG91dC4gQWxsIHVuc2F2ZWQgY2hhbmdlcyB3aWxsIGJlIGxvc3QgaW4gdGhlIHZvaWQhJylcblx0ICAgICAgICAub2soJ0xvZyBtZSBvdXQnKVxuXHQgICAgICAgIC5jYW5jZWwoJ0tlZXAgbWUgaGVyZScpXG4gICAgJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbihcbiAgICBcdGZ1bmN0aW9uKCkge1xuICAgIFx0XHQkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XG4gICAgXHR9KTtcbiAgfTtcblxuICBcbn07XG5cbmFwcC5jb250cm9sbGVyKCdyb3cnLCBmdW5jdGlvbigkc2NvcGUsICR0aW1lb3V0KXtcbiAgJHNjb3BlLiRvbigncmVxdWVzdFJlZHJhdycsIGZ1bmN0aW9uKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJyZXF1ZXN0IGFjY2VwdGVkXCIpO1xuICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdyZXNpemUnKSk7XG4gICAgfSwgMTApO1xuICB9KTtcbn0pO1xuXG5hcHAuY29udHJvbGxlcignYm94JywgZnVuY3Rpb24oJHNjb3BlLCAkbG9nLCBib3hlc19hcnIsICR0aW1lb3V0LCBqc29uZGF0YSwgJGVsZW1lbnQsICRtZERpYWxvZywgUFJPVE9DT0xTLCBUWVBFUywgQ0FURUdPUklFUywgJGh0dHAsIFBJRUNIQVJUKXtcbiAgICBcbiAgICBmdW5jdGlvbiB0aW1lU2hpZnQoKSB7ICAgIFxuICAgICAgICBpZiAoJHNjb3BlLmJveCAhPSB1bmRlZmluZWQgJiYgJHNjb3BlLmJveC50eXBlID09IFwicGllY2hhcnRcIikge1xuICAgICAgICAgICAgJHNjb3BlLmJveC5jb25maWcuYmVnaW50aW1lID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIG5vdy5zZXRIb3Vycyhub3cuZ2V0SG91cnMoKSAtICRzY29wZS5ib3guY29uZmlnLnBlcmlvZCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cobm93KVxuICAgICAgICAgICAgICAgIHJldHVybiBub3c7XG4gICAgICAgICAgICB9KSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGltZVNoaWZ0KCk7XG5cbiAgICAgICAgXG4gICAgJHNjb3BlLm9wZW5NZW51ID0gZnVuY3Rpb24oJG1kT3Blbk1lbnUsIGV2KSB7XG4gICAgICAgIG9yaWdpbmF0b3JFdiA9IGV2O1xuICAgICAgICAkbWRPcGVuTWVudShldik7XG4gICAgfTtcbiAgICAkc2NvcGUuZWRpdE1vZGUgPSBmYWxzZTtcbiAgICAkc2NvcGUuYmFja3VwTW9kZWwgPSB7fTtcblxuXG4gICAgJHNjb3BlLnByb3RvY29sID0gUFJPVE9DT0xTO1xuICAgICRzY29wZS50eXBlcyA9IFRZUEVTO1xuICAgICRzY29wZS5jYXRlZ29yaWVzID0gQ0FURUdPUklFUztcblxuXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIC8vIEVkaXQgbW9kZSBoYW5kbGluZ1xuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIC8vIFRyaWdnZXIgZWRpdGluZyBtb2RlIGFuZCBzYXZlIGN1cnJlbnQgc3RhdGVcbiAgICAkc2NvcGUuZWRpdCA9IGZ1bmN0aW9uKGJveCkge1xuICAgICAgICAkc2NvcGUuZWRpdE1vZGUgPSB0cnVlO1xuICAgICAgICAkc2NvcGUuYmFja3VwTW9kZWwgPSBhbmd1bGFyLmNvcHkoYm94KTtcbiAgICB9XG5cbiAgICAvLyBTYXZlIGNoYW5nZXMgYW5kIGRpc2FibGUgZWRpdCBtb2RlXG4gICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJHNjb3BlLmJhY2t1cE1vZGVsID0ge307XG4gICAgICAgICRsb2cuaW5mbyhcIkVkaXQgaXMgZG9uZVwiKTtcbiAgICAgICAgJGxvZy5pbmZvKEpTT04uc3RyaW5naWZ5KCRzY29wZS5ib3gpKTtcbiAgICAgICAgJHNjb3BlLmVkaXRNb2RlID0gZmFsc2U7XG4gICAgICAgIHRpbWVTaGlmdCgpO1xuICAgICAgICAkaHR0cC5wb3N0KCdodHRwOi8vYmVuZWZpemlvLmxpYmVyb3V0ZXIub3JnOjU1NTUvdjIvZXZlbnRzL2FnZycsIEpTT04uc3RyaW5naWZ5KCRzY29wZS5ib3guY29uZmlnKSkuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG4gICAgLy8kaHR0cC5wb3N0KCdodHRwOi8vcGNzdGVobGlrLmZpdC52dXRici5jejo1NTU1L3YyL2V2ZW50cy9hZ2cnLCAkc2NvcGUuYm94LmNvbmZpZykuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICRzY29wZS5ib3guZGF0YSA9IGRhdGE7XG4gICAgfSk7XG4gXG4gICAgfVxuXG4gICAgLy8gUmV2ZXJ0IHRvIG9yaWdpbmFsIGFuZCBkaXNhYmxlIGVkaXQgbW9kZVxuICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbihib3gpIHtcbiAgICAgICAgJHNjb3BlLmJveCA9IGFuZ3VsYXIuY29weSgkc2NvcGUuYmFja3VwTW9kZWwpO1xuICAgICAgICAkc2NvcGUuYmFja3VwTW9kZWwgPSB7fTtcbiAgICAgICAgJHNjb3BlLmVkaXRNb2RlID0gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCRzY29wZS5ib3gpXG5cbiAgICBpZiAoJHNjb3BlLmJveCAhPSB1bmRlZmluZWQgJiYgJHNjb3BlLmJveC50eXBlID09IFwicGllY2hhcnRcIikge1xuICAgICAgICAkc2NvcGUuYm94Lm9wdGlvbnMgPSBQSUVDSEFSVC5vcHRpb25zO1xuICAgICAgICAkc2NvcGUuYm94LmNvbmZpZ1tcInR5cGVcIl0gPSBcImFyZWFjaGFydFwiO1xuICAgICAgICAkbG9nLmluZm8oSlNPTi5zdHJpbmdpZnkoJHNjb3BlLmJveC5jb25maWcpKTtcbiAgICAgICAgJGh0dHAucG9zdCgnaHR0cDovL2JlbmVmaXppby5saWJlcm91dGVyLm9yZzo1NTU1L3YyL2V2ZW50cy9hZ2cnLCBKU09OLnN0cmluZ2lmeSgkc2NvcGUuYm94LmNvbmZpZykpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xuICAgIC8vJGh0dHAucG9zdCgnaHR0cDovL3Bjc3RlaGxpay5maXQudnV0YnIuY3o6NTU1NS92Mi9ldmVudHMvYWdnJywgJHNjb3BlLmJveC5jb25maWcpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAkc2NvcGUuYm94LmRhdGEgPSBkYXRhO1xuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAvL0FkZCBlbGVtZW50IHRvIGdpdmVuIHJvd1xuICAgICRzY29wZS5hZGRFbGVtID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgJGxvZy5pbmZvKFwiYWRkaW5nIGVsZW1lbnRcIik7XG5cbiAgICAgICAgdmFyIGl0ZW0gPSB7fTtcblxuICAgICAgICAkc2NvcGUuZnVsbCA9IGZhbHNlO1xuXG4gICAgaWYgKGJveGVzX2FycltpbmRleF0uaXRlbXMubGVuZ3RoID4gNSkge1xuICAgICAgJHNjb3BlLmZ1bGwgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBib3hlc19hcnJbaW5kZXhdLml0ZW1zLnB1c2goaXRlbSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLiRlbWl0KCdyZXF1ZXN0UmVkcmF3Jyk7XG4gIH07XG5cbiAgJHNjb3BlLnJlbW92ZUVsZW0gPSBmdW5jdGlvbihwYXJJbmRleCxpbmRleCkge1xuXG4gICAgJGxvZy5pbmZvKHBhckluZGV4KTtcbiAgICAkbG9nLmluZm8oaW5kZXgpO1xuXG4gICAgYm94ZXNfYXJyW3BhckluZGV4XS5pdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHZhciB0bXAgPSB7fTtcbiAgICAgICAgICAgIFxuICAgIGlmKGJveGVzX2FycltwYXJJbmRleF0uaXRlbXMubGVuZ3RoID09IDApIHtcbiAgICAgIHRtcCA9IGJveGVzX2FycltwYXJJbmRleF0uaXRlbXNbaW5kZXhdO1xuICAgICAgYm94ZXNfYXJyLnNwbGljZShwYXJJbmRleCwgMSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLiRlbWl0KCdyZXF1ZXN0UmVkcmF3Jyk7XG4gIH07XG5cbn0pO1xuIiwiXG5jb25maWcuJGluamVjdCA9IFtcIiRyb3V0ZVByb3ZpZGVyXCIsIFwiJGxvY2F0aW9uUHJvdmlkZXJcIiwgXCJsb2NhbFN0b3JhZ2VTZXJ2aWNlUHJvdmlkZXJcIiwgXCIkbWRUaGVtaW5nUHJvdmlkZXJcIl07XG50b3BCYXJDdHJsLiRpbmplY3QgPSBbXCIkbWREaWFsb2dcIiwgXCJjb25maXJtTG9nb3V0XCIsIFwiJGxvY2F0aW9uXCIsIFwiJG1kU2lkZW5hdlwiXTt2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2d1aScsIFsnbmdBbmltYXRlJywgJ25nTWF0ZXJpYWwnLCAnbmdSb3V0ZScsICduZ01lc3NhZ2VzJywgJ252ZDMnLCAnTG9jYWxTdG9yYWdlTW9kdWxlJ10pO1xuXG5hcHAuY29uZmlnKGNvbmZpZyk7XG5cbi8vdmFyIGRiID0gbmV3IFBvdWNoREIoJ2h0dHA6Ly9sb2NhbGhvc3Q6NTk4NC91c2VycycpO1xuXG4vLyBkYi5pbmZvKCkudGhlbihmdW5jdGlvbiAoaW5mbykge1xuLy8gICBjb25zb2xlLmxvZyhpbmZvKTtcbi8vIH0pXG5cbmZ1bmN0aW9uIGNvbmZpZygkcm91dGVQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIsIGxvY2FsU3RvcmFnZVNlcnZpY2VQcm92aWRlciwgJG1kVGhlbWluZ1Byb3ZpZGVyKSB7XG5cdCRyb3V0ZVByb3ZpZGVyXG5cdFx0LndoZW4oJy9sb2dpbicsIHtcblx0XHRcdGNvbnRyb2xsZXI6ICdsb2dpbkNvbnRyb2xsZXInLFxuXHRcdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9sb2dpbi5odG1sJyxcblx0XHRcdHJlc29sdmU6IHtcblx0XHRcdFx0Ly9pc0xvZ2luOiBjaGVja0xvZ2luXG5cdFx0XHR9XG5cdFx0fSlcblx0XHQud2hlbignLycsIHtcblx0XHRcdGNvbnRyb2xsZXI6ICdob21lQ29udHJvbGxlcicsXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2hvbWUuaHRtbCcsXG5cdFx0XHRyZXNvbHZlOiB7XG5cdFx0XHRcdC8vaXNMb2dpbjogY2hlY2tMb2dpblxuXHRcdFx0fVxuXHRcdH0pXG5cdFx0LndoZW4oJy91c2VyJywge1xuXHRcdFx0Y29udHJvbGxlcjogJ3VzZXJDb250cm9sbGVyJyxcblx0XHRcdHRlbXBsYXRlVXJsOiAndmlld3MvbG9naW4uaHRtbCcsXG5cdFx0XHRyZXNvbHZlOiB7XG5cdFx0XHRcdC8vaXNMb2dpbjogY2hlY2tMb2dpblxuXHRcdFx0fVxuXHRcdH0pXG4gICAgICAgIC53aGVuKCcvZXZlbnRzJywge1xuICAgICAgICAgICAgY29udHJvbGxlciA6ICdldmVudHNDb250cm9sbGVyJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsIDogJ3ZpZXdzL2V2ZW50cy5odG1sJ1xuICAgICAgICB9KVxuXHRcdC5vdGhlcndpc2Uoe1xuXHRcdFx0cmVkaXJlY3RUbzogJy9sb2dpbidcblx0XHR9KTtcblxuICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGVmYXVsdCcpLnByaW1hcnlQYWxldHRlKCdsaWdodC1ibHVlJykuYWNjZW50UGFsZXR0ZSgnb3JhbmdlJyk7XG5cblx0Ly8gbG9jYWxTdG9yYWdlU2VydmljZVByb3ZpZGVyXG5cdC8vIFx0LnNldFByZWZpeCgnbmVtZWEtZGFzaGJvYXJkJylcblx0Ly8gXHQvL1BST0RVQ1RJT05cblx0Ly8gXHQvLy5zZXRTdG9yYWdlQ29va2llRG9tYWluKHdpbmRvdy5sb2NhdGlvbilcblx0Ly8gXHQvL0RFVlxuXHQvLyBcdC5zZXRTdG9yYWdlQ29va2llRG9tYWluKCcnKVxuXHQvLyBcdDtcblxuLy9cdCRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcbn07XG5cbi8vICRyb290U2NvcGUuJG9uKCckcm91dGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uIChldmVudCwgbmV4dCkge1xuLy8gICAgICAgICB2YXIgdXNlckF1dGhlbnRpY2F0ZWQgPSBmYWxzZTsgLyogQ2hlY2sgaWYgdGhlIHVzZXIgaXMgbG9nZ2VkIGluICovXG5cbi8vICAgICAgICAgaWYgKCF1c2VyQXV0aGVudGljYXRlZCAmJiAhbmV4dC5pc0xvZ2luKSB7XG4vLyAgICAgICAgICAgICAkcm9vdFNjb3BlLnNhdmVkTG9jYXRpb24gPSAkbG9jYXRpb24udXJsKCk7XG5cbi8vICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcbi8vICAgICAgICAgfVxuLy8gICAgIH0pO1xuXG52YXIgbG9naW5Db3JyZWN0ID0gbnVsbDtcblxuY2hlY2tMb2dpbiA9IGZ1bmN0aW9uKCRyb290U2NvcGUsICRsb2NhdGlvbiwgbG9jYWxTdG9yYWdlU2VydmljZSkge1xuXHQvLyBjb25zb2xlLmxvZyhcImxvZ2luOiBcIiArIGxvZ2luQ29ycmVjdCk7XG5cdC8vIGNvbnNvbGUubG9nKGxvY2FsU3RvcmFnZVNlcnZpY2Uua2V5cygpKTtcblx0Ly8gaWYgKGxvY2FsU3RvcmFnZVNlcnZpY2Uua2V5cygpID09ICcnKSB7XG5cdC8vIFx0bG9jYWxTdG9yYWdlU2VydmljZS5zZXQoJ2xvZ2dlZEluJywgbnVsbCk7XG5cdC8vIH1cblxuXHQvLyRyb290U2NvcGUuJG9uKFwiJGxvY2F0aW9uQ2hhbmdlU3RhcnRcIiwgZnVuY3Rpb24oZXZlbnQpe1xuXG4gICAgXHQvLyBpZiAobG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJsb2dnZWRJblwiKSkge1xuICAgIFx0Ly8gXHQvLyRsb2NhdGlvbi5wYXRoKFwiL1wiKTtcbiAgICBcdC8vIFx0Y29uc29sZS5sb2coXCJjb3JyZWN0XCIpXHRcbiAgICBcdC8vIH1cbiAgICBcdC8vIGVsc2Uge1xuICAgIFx0Ly8gXHQkbG9jYXRpb24ucGF0aChcIi9sb2dpblwiKTtcbiAgICBcdC8vIH1cblx0Ly99KVxuXG5cdFx0aWYgKGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwibG9nZ2VkSW5cIikpIHtcbiAgICBcdFx0Ly8kbG9jYXRpb24ucGF0aChcIi9cIik7XG4gICAgXHRcdGNvbnNvbGUubG9nKFwiY29ycmVjdFwiKVx0XG4gICAgXHR9XG4gICAgXHRlbHNlIHtcbiAgICBcdFx0JGxvY2F0aW9uLnBhdGgoXCIvbG9naW5cIik7XG4gICAgXHR9XG5cblx0cmV0dXJuIGZhbHNlO1xufVxuXG4vL3Rha2UgYWxsIHdoaXRlc3BhY2Ugb3V0IG9mIHN0cmluZ1xuYXBwLmZpbHRlcignbm9zcGFjZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICghdmFsdWUpID8gJycgOiB2YWx1ZS5yZXBsYWNlKC8gL2csICcnKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbi8vIENPTlNUQU5UU1xuXG5hcHAuY29uc3RhbnQoJ0FVVEhfRVZFTlRTJywge1xuICBsb2dpblN1Y2Nlc3M6ICdhdXRoLWxvZ2luLXN1Y2Nlc3MnLFxuICBsb2dpbkZhaWxlZDogJ2F1dGgtbG9naW4tZmFpbGVkJyxcbiAgbG9nb3V0U3VjY2VzczogJ2F1dGgtbG9nb3V0LXN1Y2Nlc3MnLFxuICBzZXNzaW9uVGltZW91dDogJ2F1dGgtc2Vzc2lvbi10aW1lb3V0JyxcbiAgbm90QXV0aGVudGljYXRlZDogJ2F1dGgtbm90LWF1dGhlbnRpY2F0ZWQnLFxuICBub3RBdXRob3JpemVkOiAnYXV0aC1ub3QtYXV0aG9yaXplZCdcbn0pO1xuXG5hcHAuY29uc3RhbnQoJ0NBVEVHT1JJRVMnLCBbIFwiUmVjb24uU2Nhbm5pbmdcIiwgXCJBdHRlbXB0LkxvZ2luXCIsIFwiQXZhaWxhYmlsaXR5LkRvU1wiIF0pO1xuYXBwLmNvbnN0YW50KCdQUk9UT0NPTFMnLCBbIFwidGNwXCIsIFwiZG5zXCIsIFwidWRwXCIgXSk7XG5hcHAuY29uc3RhbnQoJ1RZUEVTJywgW1wiaGlzdG9ncmFtXCIsIFwicGllY2hhcnRcIl0pXG5cbmFwcC5jb25zdGFudCgnUElFQ0hBUlQnLCB7IFxuICAgIG9wdGlvbnM6IHtcbiAgICAgICAgY2hhcnQ6IHtcbiAgICAgICAgICAgIHR5cGU6ICdwaWVDaGFydCcsXG4gICAgICAgICAgICBoZWlnaHQ6IDUwMCxcbiAgICAgICAgICAgIHg6IGZ1bmN0aW9uKGQpe3JldHVybiBkLmtleVswXTt9LFxuICAgICAgICAgICAgeTogZnVuY3Rpb24oZCl7cmV0dXJuIGQueDt9LFxuICAgICAgICAgICAgc2hvd0xhYmVsczogdHJ1ZSxcbiAgICAgICAgICAgIGRvbnV0IDogdHJ1ZSxcbiAgICAgICAgICAgIHBhZEFuZ2xlIDogMC4wMixcbiAgICAgICAgICAgIGNvcm5lclJhZGl1cyA6IDMsXG4gICAgICAgICAgICB0cmFuc2l0aW9uRHVyYXRpb246IDUwMCxcbiAgICAgICAgICAgIGxhYmVsVGhyZXNob2xkOiAwLjEsXG4gICAgICAgICAgICBjb2xvcjogW1wiIzBlYzRmNFwiLCBcIiM2MzFGRjZcIiwgXCIjRkZEQzA2XCIsIFwiI0ZGODQwNlwiLCBcIiNiNTY5NjlcIiwgXCIjZTZjZjhiXCJdLFxuICAgICAgICAgICAgbGVnZW5kOiB7XG4gICAgICAgICAgICAgICAgbWFyZ2luOiB7XG4gICAgICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDEwMCxcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiA1LFxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSk7XG5cblxuYXBwLmNvbnN0YW50KCdBUkVBJywge1xuICAgIG9wdGlvbnMgOiB7XG4gICAgICAgIGNoYXJ0OiB7XG4gICAgICAgICAgICB0eXBlOiAnc3RhY2tlZEFyZWFDaGFydCcsXG4gICAgICAgICAgICBoZWlnaHQ6IDUwMCxcbiAgICAgICAgICAgIG1hcmdpbiA6IHtcbiAgICAgICAgICAgICAgICB0b3A6IDIwLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiAyMCxcbiAgICAgICAgICAgICAgICBib3R0b206IDMwLFxuICAgICAgICAgICAgICAgIGxlZnQ6IDQwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgeDogZnVuY3Rpb24oZCl7cmV0dXJuIGQueDt9LFxuICAgICAgICAgICAgeTogZnVuY3Rpb24oZCl7cmV0dXJuIGQueTt9LFxuICAgICAgICAgICAgdXNlVm9yb25vaTogZmFsc2UsXG4gICAgICAgICAgICBjbGlwRWRnZTogdHJ1ZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAsXG4gICAgICAgICAgICB1c2VJbnRlcmFjdGl2ZUd1aWRlbGluZTogdHJ1ZSxcbiAgICAgICAgICAgIHhBeGlzOiB7XG4gICAgICAgICAgICAgICAgc2hvd01heE1pbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgdGlja0Zvcm1hdDogZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZDMudGltZS5mb3JtYXQoJyV4JykobmV3IERhdGUoZCkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHlBeGlzOiB7XG4gICAgICAgICAgICAgICAgdGlja0Zvcm1hdDogZnVuY3Rpb24oZCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkMy5mb3JtYXQoJywuMmYnKShkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgem9vbToge1xuICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc2NhbGVFeHRlbnQ6IFsxLCAxMF0sXG4gICAgICAgICAgICAgICAgdXNlRml4ZWREb21haW46IGZhbHNlLFxuICAgICAgICAgICAgICAgIHVzZU5pY2VTY2FsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbE9mZjogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmVydGljYWxPZmY6IHRydWUsXG4gICAgICAgICAgICAgICAgdW56b29tRXZlbnRUeXBlOiAnZGJsY2xpY2suem9vbSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5hcHAuZGlyZWN0aXZlKCdtZW51VG9nZ2xlJywgWyckdGltZW91dCcsIGZ1bmN0aW9uICgkdGltZW91dCApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgc2VjdGlvbjogJz0nXG4gICAgICAgIH0sXG4gICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvbWVudS10b2dnbGUudG1wbC5odG1sJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50KSB7XG4gICAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSBlbGVtZW50LnBhcmVudCgpLmNvbnRyb2xsZXIoKTtcblxuICAgICAgICAgIHNjb3BlLmlzT3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb250cm9sbGVyLmlzT3BlbihzY29wZS5zZWN0aW9uKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHNjb3BlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIudG9nZ2xlT3BlbihzY29wZS5zZWN0aW9uKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIFxuICAgICAgICAgIHZhciBwYXJlbnROb2RlID0gZWxlbWVudFswXS5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICBpZiAocGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ3BhcmVudC1saXN0LWl0ZW0nKSkge1xuICAgICAgICAgICAgdmFyIGhlYWRpbmcgPSBwYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ2gyJyk7XG4gICAgICAgICAgICBlbGVtZW50WzBdLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5JywgaGVhZGluZy5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1dKVxuLypcbiogQSBKYXZhU2NyaXB0IGltcGxlbWVudGF0aW9uIG9mIHRoZSBTSEEyNTYgaGFzaCBmdW5jdGlvbi5cbipcbiogRklMRTpcdHNoYTI1Ni5qc1xuKiBWRVJTSU9OOlx0MC44XG4qIEFVVEhPUjpcdENocmlzdG9waCBCaWNobG1laWVyIDxpbmZvcm1hdGlrQHpvbWJpZWFyZW5hLmRlPlxuKlxuKiBOT1RFOiBUaGlzIHZlcnNpb24gaXMgbm90IHRlc3RlZCB0aG9yb3VnaGx5IVxuKlxuKiBDb3B5cmlnaHQgKGMpIDIwMDMsIENocmlzdG9waCBCaWNobG1laWVyXG4qIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4qXG4qIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnNcbiogYXJlIG1ldDpcbiogMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiogICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuKiAyLiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuKiAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4qICAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4qIDMuIE5laXRoZXIgdGhlIG5hbWUgb2YgdGhlIGNvcHlyaWdodCBob2xkZXIgbm9yIHRoZSBuYW1lcyBvZiBjb250cmlidXRvcnNcbiogICAgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlXG4qICAgIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuKlxuKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4qXG4qIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIEFVVEhPUlMgJydBUyBJUycnIEFORCBBTlkgRVhQUkVTU1xuKiBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxuKiBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0VcbiogQVJFIERJU0NMQUlNRUQuICBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT05UUklCVVRPUlMgQkVcbiogTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUlxuKiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRlxuKiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1JcbiogQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksXG4qIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFXG4qIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsXG4qIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4qL1xuXG4vKiBTSEEyNTYgbG9naWNhbCBmdW5jdGlvbnMgKi9cbmZ1bmN0aW9uIHJvdGF0ZVJpZ2h0KG4seCkge1xuXHRyZXR1cm4gKCh4ID4+PiBuKSB8ICh4IDw8ICgzMiAtIG4pKSk7XG59XG5mdW5jdGlvbiBjaG9pY2UoeCx5LHopIHtcblx0cmV0dXJuICgoeCAmIHkpIF4gKH54ICYgeikpO1xufVxuZnVuY3Rpb24gbWFqb3JpdHkoeCx5LHopIHtcblx0cmV0dXJuICgoeCAmIHkpIF4gKHggJiB6KSBeICh5ICYgeikpO1xufVxuZnVuY3Rpb24gc2hhMjU2X1NpZ21hMCh4KSB7XG5cdHJldHVybiAocm90YXRlUmlnaHQoMiwgeCkgXiByb3RhdGVSaWdodCgxMywgeCkgXiByb3RhdGVSaWdodCgyMiwgeCkpO1xufVxuZnVuY3Rpb24gc2hhMjU2X1NpZ21hMSh4KSB7XG5cdHJldHVybiAocm90YXRlUmlnaHQoNiwgeCkgXiByb3RhdGVSaWdodCgxMSwgeCkgXiByb3RhdGVSaWdodCgyNSwgeCkpO1xufVxuZnVuY3Rpb24gc2hhMjU2X3NpZ21hMCh4KSB7XG5cdHJldHVybiAocm90YXRlUmlnaHQoNywgeCkgXiByb3RhdGVSaWdodCgxOCwgeCkgXiAoeCA+Pj4gMykpO1xufVxuZnVuY3Rpb24gc2hhMjU2X3NpZ21hMSh4KSB7XG5cdHJldHVybiAocm90YXRlUmlnaHQoMTcsIHgpIF4gcm90YXRlUmlnaHQoMTksIHgpIF4gKHggPj4+IDEwKSk7XG59XG5mdW5jdGlvbiBzaGEyNTZfZXhwYW5kKFcsIGopIHtcblx0cmV0dXJuIChXW2omMHgwZl0gKz0gc2hhMjU2X3NpZ21hMShXWyhqKzE0KSYweDBmXSkgKyBXWyhqKzkpJjB4MGZdICsgXG5zaGEyNTZfc2lnbWEwKFdbKGorMSkmMHgwZl0pKTtcbn1cblxuLyogSGFzaCBjb25zdGFudCB3b3JkcyBLOiAqL1xudmFyIEsyNTYgPSBuZXcgQXJyYXkoXG5cdDB4NDI4YTJmOTgsIDB4NzEzNzQ0OTEsIDB4YjVjMGZiY2YsIDB4ZTliNWRiYTUsXG5cdDB4Mzk1NmMyNWIsIDB4NTlmMTExZjEsIDB4OTIzZjgyYTQsIDB4YWIxYzVlZDUsXG5cdDB4ZDgwN2FhOTgsIDB4MTI4MzViMDEsIDB4MjQzMTg1YmUsIDB4NTUwYzdkYzMsXG5cdDB4NzJiZTVkNzQsIDB4ODBkZWIxZmUsIDB4OWJkYzA2YTcsIDB4YzE5YmYxNzQsXG5cdDB4ZTQ5YjY5YzEsIDB4ZWZiZTQ3ODYsIDB4MGZjMTlkYzYsIDB4MjQwY2ExY2MsXG5cdDB4MmRlOTJjNmYsIDB4NGE3NDg0YWEsIDB4NWNiMGE5ZGMsIDB4NzZmOTg4ZGEsXG5cdDB4OTgzZTUxNTIsIDB4YTgzMWM2NmQsIDB4YjAwMzI3YzgsIDB4YmY1OTdmYzcsXG5cdDB4YzZlMDBiZjMsIDB4ZDVhNzkxNDcsIDB4MDZjYTYzNTEsIDB4MTQyOTI5NjcsXG5cdDB4MjdiNzBhODUsIDB4MmUxYjIxMzgsIDB4NGQyYzZkZmMsIDB4NTMzODBkMTMsXG5cdDB4NjUwYTczNTQsIDB4NzY2YTBhYmIsIDB4ODFjMmM5MmUsIDB4OTI3MjJjODUsXG5cdDB4YTJiZmU4YTEsIDB4YTgxYTY2NGIsIDB4YzI0YjhiNzAsIDB4Yzc2YzUxYTMsXG5cdDB4ZDE5MmU4MTksIDB4ZDY5OTA2MjQsIDB4ZjQwZTM1ODUsIDB4MTA2YWEwNzAsXG5cdDB4MTlhNGMxMTYsIDB4MWUzNzZjMDgsIDB4Mjc0ODc3NGMsIDB4MzRiMGJjYjUsXG5cdDB4MzkxYzBjYjMsIDB4NGVkOGFhNGEsIDB4NWI5Y2NhNGYsIDB4NjgyZTZmZjMsXG5cdDB4NzQ4ZjgyZWUsIDB4NzhhNTYzNmYsIDB4ODRjODc4MTQsIDB4OGNjNzAyMDgsXG5cdDB4OTBiZWZmZmEsIDB4YTQ1MDZjZWIsIDB4YmVmOWEzZjcsIDB4YzY3MTc4ZjJcbik7XG5cbi8qIGdsb2JhbCBhcnJheXMgKi9cbnZhciBpaGFzaCwgY291bnQsIGJ1ZmZlcjtcbnZhciBzaGEyNTZfaGV4X2RpZ2l0cyA9IFwiMDEyMzQ1Njc4OWFiY2RlZlwiO1xuXG4vKiBBZGQgMzItYml0IGludGVnZXJzIHdpdGggMTYtYml0IG9wZXJhdGlvbnMgKGJ1ZyBpbiBzb21lIEpTLWludGVycHJldGVyczogXG5vdmVyZmxvdykgKi9cbmZ1bmN0aW9uIHNhZmVfYWRkKHgsIHkpXG57XG5cdHZhciBsc3cgPSAoeCAmIDB4ZmZmZikgKyAoeSAmIDB4ZmZmZik7XG5cdHZhciBtc3cgPSAoeCA+PiAxNikgKyAoeSA+PiAxNikgKyAobHN3ID4+IDE2KTtcblx0cmV0dXJuIChtc3cgPDwgMTYpIHwgKGxzdyAmIDB4ZmZmZik7XG59XG5cbi8qIEluaXRpYWxpc2UgdGhlIFNIQTI1NiBjb21wdXRhdGlvbiAqL1xuZnVuY3Rpb24gc2hhMjU2X2luaXQoKSB7XG5cdGloYXNoID0gbmV3IEFycmF5KDgpO1xuXHRjb3VudCA9IG5ldyBBcnJheSgyKTtcblx0YnVmZmVyID0gbmV3IEFycmF5KDY0KTtcblx0Y291bnRbMF0gPSBjb3VudFsxXSA9IDA7XG5cdGloYXNoWzBdID0gMHg2YTA5ZTY2Nztcblx0aWhhc2hbMV0gPSAweGJiNjdhZTg1O1xuXHRpaGFzaFsyXSA9IDB4M2M2ZWYzNzI7XG5cdGloYXNoWzNdID0gMHhhNTRmZjUzYTtcblx0aWhhc2hbNF0gPSAweDUxMGU1MjdmO1xuXHRpaGFzaFs1XSA9IDB4OWIwNTY4OGM7XG5cdGloYXNoWzZdID0gMHgxZjgzZDlhYjtcblx0aWhhc2hbN10gPSAweDViZTBjZDE5O1xufVxuXG4vKiBUcmFuc2Zvcm0gYSA1MTItYml0IG1lc3NhZ2UgYmxvY2sgKi9cbmZ1bmN0aW9uIHNoYTI1Nl90cmFuc2Zvcm0oKSB7XG5cdHZhciBhLCBiLCBjLCBkLCBlLCBmLCBnLCBoLCBUMSwgVDI7XG5cdHZhciBXID0gbmV3IEFycmF5KDE2KTtcblxuXHQvKiBJbml0aWFsaXplIHJlZ2lzdGVycyB3aXRoIHRoZSBwcmV2aW91cyBpbnRlcm1lZGlhdGUgdmFsdWUgKi9cblx0YSA9IGloYXNoWzBdO1xuXHRiID0gaWhhc2hbMV07XG5cdGMgPSBpaGFzaFsyXTtcblx0ZCA9IGloYXNoWzNdO1xuXHRlID0gaWhhc2hbNF07XG5cdGYgPSBpaGFzaFs1XTtcblx0ZyA9IGloYXNoWzZdO1xuXHRoID0gaWhhc2hbN107XG5cbiAgICAgICAgLyogbWFrZSAzMi1iaXQgd29yZHMgKi9cblx0Zm9yKHZhciBpPTA7IGk8MTY7IGkrKylcblx0XHRXW2ldID0gKChidWZmZXJbKGk8PDIpKzNdKSB8IChidWZmZXJbKGk8PDIpKzJdIDw8IDgpIHwgKGJ1ZmZlclsoaTw8MikrMV0gXG48PCAxNikgfCAoYnVmZmVyW2k8PDJdIDw8IDI0KSk7XG5cbiAgICAgICAgZm9yKHZhciBqPTA7IGo8NjQ7IGorKykge1xuXHRcdFQxID0gaCArIHNoYTI1Nl9TaWdtYTEoZSkgKyBjaG9pY2UoZSwgZiwgZykgKyBLMjU2W2pdO1xuXHRcdGlmKGogPCAxNikgVDEgKz0gV1tqXTtcblx0XHRlbHNlIFQxICs9IHNoYTI1Nl9leHBhbmQoVywgaik7XG5cdFx0VDIgPSBzaGEyNTZfU2lnbWEwKGEpICsgbWFqb3JpdHkoYSwgYiwgYyk7XG5cdFx0aCA9IGc7XG5cdFx0ZyA9IGY7XG5cdFx0ZiA9IGU7XG5cdFx0ZSA9IHNhZmVfYWRkKGQsIFQxKTtcblx0XHRkID0gYztcblx0XHRjID0gYjtcblx0XHRiID0gYTtcblx0XHRhID0gc2FmZV9hZGQoVDEsIFQyKTtcbiAgICAgICAgfVxuXG5cdC8qIENvbXB1dGUgdGhlIGN1cnJlbnQgaW50ZXJtZWRpYXRlIGhhc2ggdmFsdWUgKi9cblx0aWhhc2hbMF0gKz0gYTtcblx0aWhhc2hbMV0gKz0gYjtcblx0aWhhc2hbMl0gKz0gYztcblx0aWhhc2hbM10gKz0gZDtcblx0aWhhc2hbNF0gKz0gZTtcblx0aWhhc2hbNV0gKz0gZjtcblx0aWhhc2hbNl0gKz0gZztcblx0aWhhc2hbN10gKz0gaDtcbn1cblxuLyogUmVhZCB0aGUgbmV4dCBjaHVuayBvZiBkYXRhIGFuZCB1cGRhdGUgdGhlIFNIQTI1NiBjb21wdXRhdGlvbiAqL1xuZnVuY3Rpb24gc2hhMjU2X3VwZGF0ZShkYXRhLCBpbnB1dExlbikge1xuXHR2YXIgaSwgaW5kZXgsIGN1cnBvcyA9IDA7XG5cdC8qIENvbXB1dGUgbnVtYmVyIG9mIGJ5dGVzIG1vZCA2NCAqL1xuXHRpbmRleCA9ICgoY291bnRbMF0gPj4gMykgJiAweDNmKTtcbiAgICAgICAgdmFyIHJlbWFpbmRlciA9IChpbnB1dExlbiAmIDB4M2YpO1xuXG5cdC8qIFVwZGF0ZSBudW1iZXIgb2YgYml0cyAqL1xuXHRpZiAoKGNvdW50WzBdICs9IChpbnB1dExlbiA8PCAzKSkgPCAoaW5wdXRMZW4gPDwgMykpIGNvdW50WzFdKys7XG5cdGNvdW50WzFdICs9IChpbnB1dExlbiA+PiAyOSk7XG5cblx0LyogVHJhbnNmb3JtIGFzIG1hbnkgdGltZXMgYXMgcG9zc2libGUgKi9cblx0Zm9yKGk9MDsgaSs2MzxpbnB1dExlbjsgaSs9NjQpIHtcbiAgICAgICAgICAgICAgICBmb3IodmFyIGo9aW5kZXg7IGo8NjQ7IGorKylcblx0XHRcdGJ1ZmZlcltqXSA9IGRhdGEuY2hhckNvZGVBdChjdXJwb3MrKyk7XG5cdFx0c2hhMjU2X3RyYW5zZm9ybSgpO1xuXHRcdGluZGV4ID0gMDtcblx0fVxuXG5cdC8qIEJ1ZmZlciByZW1haW5pbmcgaW5wdXQgKi9cblx0Zm9yKHZhciBqPTA7IGo8cmVtYWluZGVyOyBqKyspXG5cdFx0YnVmZmVyW2pdID0gZGF0YS5jaGFyQ29kZUF0KGN1cnBvcysrKTtcbn1cblxuLyogRmluaXNoIHRoZSBjb21wdXRhdGlvbiBieSBvcGVyYXRpb25zIHN1Y2ggYXMgcGFkZGluZyAqL1xuZnVuY3Rpb24gc2hhMjU2X2ZpbmFsKCkge1xuXHR2YXIgaW5kZXggPSAoKGNvdW50WzBdID4+IDMpICYgMHgzZik7XG4gICAgICAgIGJ1ZmZlcltpbmRleCsrXSA9IDB4ODA7XG4gICAgICAgIGlmKGluZGV4IDw9IDU2KSB7XG5cdFx0Zm9yKHZhciBpPWluZGV4OyBpPDU2OyBpKyspXG5cdFx0XHRidWZmZXJbaV0gPSAwO1xuICAgICAgICB9IGVsc2Uge1xuXHRcdGZvcih2YXIgaT1pbmRleDsgaTw2NDsgaSsrKVxuXHRcdFx0YnVmZmVyW2ldID0gMDtcbiAgICAgICAgICAgICAgICBzaGEyNTZfdHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7IGk8NTY7IGkrKylcblx0XHRcdGJ1ZmZlcltpXSA9IDA7XG5cdH1cbiAgICAgICAgYnVmZmVyWzU2XSA9IChjb3VudFsxXSA+Pj4gMjQpICYgMHhmZjtcbiAgICAgICAgYnVmZmVyWzU3XSA9IChjb3VudFsxXSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgYnVmZmVyWzU4XSA9IChjb3VudFsxXSA+Pj4gOCkgJiAweGZmO1xuICAgICAgICBidWZmZXJbNTldID0gY291bnRbMV0gJiAweGZmO1xuICAgICAgICBidWZmZXJbNjBdID0gKGNvdW50WzBdID4+PiAyNCkgJiAweGZmO1xuICAgICAgICBidWZmZXJbNjFdID0gKGNvdW50WzBdID4+PiAxNikgJiAweGZmO1xuICAgICAgICBidWZmZXJbNjJdID0gKGNvdW50WzBdID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgIGJ1ZmZlcls2M10gPSBjb3VudFswXSAmIDB4ZmY7XG4gICAgICAgIHNoYTI1Nl90cmFuc2Zvcm0oKTtcbn1cblxuLyogU3BsaXQgdGhlIGludGVybmFsIGhhc2ggdmFsdWVzIGludG8gYW4gYXJyYXkgb2YgYnl0ZXMgKi9cbmZ1bmN0aW9uIHNoYTI1Nl9lbmNvZGVfYnl0ZXMoKSB7XG4gICAgICAgIHZhciBqPTA7XG4gICAgICAgIHZhciBvdXRwdXQgPSBuZXcgQXJyYXkoMzIpO1xuXHRmb3IodmFyIGk9MDsgaTw4OyBpKyspIHtcblx0XHRvdXRwdXRbaisrXSA9ICgoaWhhc2hbaV0gPj4+IDI0KSAmIDB4ZmYpO1xuXHRcdG91dHB1dFtqKytdID0gKChpaGFzaFtpXSA+Pj4gMTYpICYgMHhmZik7XG5cdFx0b3V0cHV0W2orK10gPSAoKGloYXNoW2ldID4+PiA4KSAmIDB4ZmYpO1xuXHRcdG91dHB1dFtqKytdID0gKGloYXNoW2ldICYgMHhmZik7XG5cdH1cblx0cmV0dXJuIG91dHB1dDtcbn1cblxuLyogR2V0IHRoZSBpbnRlcm5hbCBoYXNoIGFzIGEgaGV4IHN0cmluZyAqL1xuZnVuY3Rpb24gc2hhMjU2X2VuY29kZV9oZXgoKSB7XG5cdHZhciBvdXRwdXQgPSBuZXcgU3RyaW5nKCk7XG5cdGZvcih2YXIgaT0wOyBpPDg7IGkrKykge1xuXHRcdGZvcih2YXIgaj0yODsgaj49MDsgai09NClcblx0XHRcdG91dHB1dCArPSBzaGEyNTZfaGV4X2RpZ2l0cy5jaGFyQXQoKGloYXNoW2ldID4+PiBqKSAmIDB4MGYpO1xuXHR9XG5cdHJldHVybiBvdXRwdXQ7XG59XG5cbi8qIE1haW4gZnVuY3Rpb246IHJldHVybnMgYSBoZXggc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgU0hBMjU2IHZhbHVlIG9mIHRoZSBcbmdpdmVuIGRhdGEgKi9cbmZ1bmN0aW9uIHNoYTI1Nl9kaWdlc3QoZGF0YSkge1xuXHRzaGEyNTZfaW5pdCgpO1xuXHRzaGEyNTZfdXBkYXRlKGRhdGEsIGRhdGEubGVuZ3RoKTtcblx0c2hhMjU2X2ZpbmFsKCk7XG4gICAgICAgIHJldHVybiBzaGEyNTZfZW5jb2RlX2hleCgpO1xufVxuXG4vKiB0ZXN0IGlmIHRoZSBKUy1pbnRlcnByZXRlciBpcyB3b3JraW5nIHByb3Blcmx5ICovXG5mdW5jdGlvbiBzaGEyNTZfc2VsZl90ZXN0KClcbntcblx0cmV0dXJuIHNoYTI1Nl9kaWdlc3QoXCJtZXNzYWdlIGRpZ2VzdFwiKSA9PSBcblwiZjc4NDZmNTVjZjIzZTE0ZWViZWFiNWI0ZTE1NTBjYWQ1YjUwOWUzMzQ4ZmJjNGVmYTNhMTQxM2QzOTNjYjY1MFwiO1xufVxuXG5cblxuYXBwLmNvbnRyb2xsZXIoJ2V2ZW50c0NvbnRyb2xsZXInLCBbXCIkc2NvcGVcIiwgXCIkaHR0cFwiLCBmdW5jdGlvbigkc2NvcGUsICRodHRwKSB7XG4gICAgJHNjb3BlLmZpbHRlciA9IHtcbiAgICAgICAgXCJjYXRlZ29yeVwiIDogXCJcIixcbiAgICAgICAgXCJwcm90b1wiIDogXCJcIixcbiAgICAgICAgXCJkZXNjXCIgOiBcIlwiLFxuICAgICAgICBcImZsb3dzX2Zyb21cIiA6IFwiXCIsXG4gICAgICAgIFwiZmxvd3NfdG9cIiA6IFwiXCIsXG4gICAgICAgIFwiaXRlbXNcIiA6IDEwMCxcbiAgICAgICAgXCJidG5cIiA6IFwiTG9hZFwiXG4gICAgfTtcbiAgICAkc2NvcGUucXVlcnkgPSB7XG4gICAgICAgIFwiZnJvbVwiIDogXCJcIixcbiAgICAgICAgXCJ0b1wiIDogXCJcIixcbiAgICAgICAgXCJkYXRlXCIgOiBcIlwiLFxuICAgICAgICBcImxpbWl0XCIgOiAyNVxuICAgIH1cbiAgICBcbiAgICAkc2NvcGUuZGF0YSA9IFtdO1xuXG4gICAgJGh0dHAuZ2V0KCdodHRwOi8vYmVuZWZpemlvLmxpYmVyb3V0ZXIub3JnOjU1NTUvdjIvZXZlbnRzLycgKyAkc2NvcGUuZmlsdGVyLml0ZW1zKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFx0Ly9jb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShkYXRhKSk7XG5cdFx0XHRcdCRzY29wZS5kYXRhID0gZGF0YTtcblx0fSk7XG5cbiAgICRzY29wZS5wYXJzZURhdGUgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgIHZhciBkYXRlX3RtcCA9IGRhdGU7XG4gICAgICAgIGRhdGVfdG1wLnNldEhvdXJzKGRhdGVfdG1wLmdldEhvdXJzKCkgKyAxKTtcbiAgICAgICAgJHNjb3BlLmZvb2RhdGUgPSBkYXRlX3RtcC50b0pTT04oKTtcblxuICAgfVxuXG4gICAgJHNjb3BlLmxvYWRJdGVtcyA9IGZ1bmN0aW9uKHF1ZXJ5KSB7XG4gICAgICAgICRzY29wZS5maWx0ZXIuYnRuID0gXCJMb2FkaW5nLi4uXCJcbiAgICBcbiAgICAgICAgdmFyIGRhdGUgPSBKU09OLnN0cmluZ2lmeShxdWVyeS5kYXRlKS5zcGxpdChcIlRcIik7XG4gICAgICAgIHZhciBmcm9tX3RpbWUgPSBKU09OLnN0cmluZ2lmeShxdWVyeS5mcm9tKS5zcGxpdChcIlRcIik7XG4gICAgICAgIHZhciB0b190aW1lID0gSlNPTi5zdHJpbmdpZnkocXVlcnkudG8pLnNwbGl0KFwiVFwiKTtcblxuICAgICAgICB2YXIgc2VuZCA9IHtcbiAgICAgICAgICAgIFwiZnJvbVwiIDogSlNPTi5wYXJzZShkYXRlWzBdICsgXCJUXCIgKyBmcm9tX3RpbWVbMV0pLFxuICAgICAgICAgICAgXCJ0b1wiIDogSlNPTi5wYXJzZShkYXRlWzBdICsgXCJUXCIgKyB0b190aW1lWzFdKSxcbiAgICAgICAgICAgIFwibGltaXRcIiA6IHF1ZXJ5LmxpbWl0XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coU3RyaW5nKGRhdGUpKVxuICAgICAgICAkaHR0cC5wb3N0KCdodHRwOi8vcGNzdGVobGlrLmZpdC52dXRici5jejo1NTU1L3YyL2V2ZW50cy8nICsgcXVlcnkubGltaXQsIHNlbmQpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xuXHRcdCAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgIFxuXHRcdFx0JHNjb3BlLmRhdGEgPSBkYXRhO1xuICAgICAgICAgICAgJHNjb3BlLmZpbHRlci5idG4gPSBcIkRvbmVcIlxuXHQgICAgfSk7XG4gICAgfVxuXG5cblxuICAgICRzY29wZS5lbmFibGVUYWJsZSA9IHRydWU7XG4gICAgLyokc2NvcGUuZmlsdGVyID0gXCIkXCI7XG4gICAgJHNjb3BlLnNlYXJjaCA9IHskIDogJycsIFwiU291cmNlXCI6IFsgeyBcIlByb3RvXCI6IFsgXCJcIiBdLCBcIklQNFwiOiBbIFwiXCIgXSB9XX1cbiAgICAkc2NvcGUuY2hhbmdlRmlsdGVyVG8gPSBmdW5jdGlvbihwcikge1xuICAgICAgICAkc2NvcGUuZmlsdGVyID0gcHI7IFxuICAgIH0qL1xuXG4gICAgJHNjb3BlLmV2ZW50cyA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShpdGVtKSk7XG4gICAgICAgIHZhciByZXMgPSBbXTtcbiAgICAgICAgaWYgKCRzY29wZS5maWx0ZXIucHJvdG8gIT0gXCJcIil7XG4gICAgICAgICAgICBpZiAoaSA9PSA1MCkge2NvbnNvbGUubG9nKFwiZmlsdGVyaW5nIHByb3RvXCIpOyBpID0gMDt9XG4gICAgICAgICAgICBpZiAoXCJTb3VyY2VcIiBpbiBpdGVtKSB7XG4gICAgICAgICAgICAgICAgaWYgKFwiUHJvdG9cIiBpbiBpdGVtLlNvdXJjZVswXSAmJiBpdGVtLlNvdXJjZVswXS5Qcm90b1swXS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJHNjb3BlLmZpbHRlci5wcm90by50b0xvd2VyQ2FzZSgpKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXMucHVzaCgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkc2NvcGUuZmlsdGVyLmNhdGVnb3J5ICE9IFwiXCIpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLkNhdGVnb3J5WzBdLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigkc2NvcGUuZmlsdGVyLmNhdGVnb3J5LnRvTG93ZXJDYXNlKCkpID4gLTEpIHtcbiAgICAgICAgICAgICAgICByZXMucHVzaCgxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnB1c2goMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJHNjb3BlLmZpbHRlci5kZXNjICE9IFwiXCIpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLkRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigkc2NvcGUuZmlsdGVyLmRlc2MudG9Mb3dlckNhc2UoKSkgPiAtMSlcbiAgICAgICAgICAgICAgICByZXMucHVzaCgxKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXMucHVzaCgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkc2NvcGUuZmlsdGVyLmZsb3dzX2Zyb20gIT0gXCJcIikge1xuICAgICAgICAgICAgaWYgKGl0ZW0uRmxvd0NvdW50ID4gTnVtYmVyKCRzY29wZS5maWx0ZXIuZmxvd3NfZnJvbSkpXG4gICAgICAgICAgICAgICAgcmVzLnB1c2goMSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmVzLnB1c2goMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJHNjb3BlLmZpbHRlci5mbG93c190byAhPSBcIlwiKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5GbG93Q291bnQgPCBOdW1iZXIoJHNjb3BlLmZpbHRlci5mbG93c190bykpXG4gICAgICAgICAgICAgICAgcmVzLnB1c2goMSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmVzLnB1c2goMCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbG9naWN2YWx1ZSA9IDE7XG4gIC8vICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxvZ2ljdmFsdWUgPSBsb2dpY3ZhbHVlICogcmVzW2ldO1xuICAgICAgLy8gICAgICBjb25zb2xlLmxvZyhOdW1iZXIocmVzW2ldKSk7XG4gICAgLy8gICAgICAgIGNvbnNvbGUubG9nKGxvZ2ljdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2dpY3ZhbHVlID09IDEgPyB0cnVlIDogZmFsc2U7XG5cbiAgICB9XG5cbn1dKTtcblxuXG5hcHAudmFsdWUoJ2JveGVzX2FycicsIFtcbiAgeyBcbiAgICBcInJvd1wiICAgOiAwLFxuICAgIFwiaGVpZ2h0XCIgOiBcIlwiLFxuICAgIFwiaXRlbXNcIiA6IFtcbiAgICAgIHtcbiAgICAgICAgXCJ0aXRsZVwiICAgOiBcIm9uZVwiLFxuICAgICAgICBcInR5cGVcIiAgICA6IFwicGllY2hhcnRcIixcbiAgICAgICAgXCJjb250ZW50XCIgOiBcIlwiLFxuICAgICAgICBcImNvbmZpZ1wiICA6IHtcbiAgICAgICAgICAgIFwibWV0cmljXCIgOiBcImNhdGVnb3J5XCIsXG4gICAgICAgICAgICBcInBlcmlvZFwiIDogXCIyNFwiLFxuICAgICAgICAgICAgXCJiZWdpbnRpbWVcIiA6IFwiXCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgXCJ0aXRsZVwiICAgOiBcIjEwIFRPUCBTQ0FOUE9SVFNcIixcbiAgICAgICAgXCJ0eXBlXCIgICAgOiBcImdyYXBoXCIsXG4gICAgICAgIFwiZGF0YVwiICAgIDogXCJcIixcbiAgICAgICAgXCJ0aW1lc3RhbXBcIjogXCJcIixcbiAgICAgICAgXCJvcHRpb25zXCIgOiB7IFxuICAgICAgICAgICAgY2hhcnQ6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbXVsdGlCYXJDaGFydCcsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAzMDAsXG4gICAgICAgICAgICAgICAgbWFyZ2luIDoge1xuICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICAgICAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHg6IGZ1bmN0aW9uKGQpeyByZXR1cm4gZC54OyB9LFxuICAgICAgICAgICAgICAgIHk6IGZ1bmN0aW9uKGQpeyByZXR1cm4gZC55OyB9LFxuICAgICAgICAgICAgICAgIHVzZUludGVyYWN0aXZlR3VpZGVsaW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRpc3BhdGNoOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlQ2hhbmdlOiBmdW5jdGlvbihlKXsgY29uc29sZS5sb2coXCJzdGF0ZUNoYW5nZVwiKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlU3RhdGU6IGZ1bmN0aW9uKGUpeyBjb25zb2xlLmxvZyhcImNoYW5nZVN0YXRlXCIpOyB9LFxuICAgICAgICAgICAgICAgICAgICAvL3Rvb2x0aXBTaG93OiBmdW5jdGlvbihlKXsgY29uc29sZS5sb2coXCJ0b29sdGlwU2hvd1wiKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgLy90b29sdGlwSGlkZTogZnVuY3Rpb24oZSl7IGNvbnNvbGUubG9nKFwidG9vbHRpcEhpZGVcIik7IH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHhBeGlzOiB7XG4gICAgICAgICAgICAgICAgICAgIGF4aXNMYWJlbDogJ1RpbWUgKG1zKScsXG4gICAgICAgICAgICAgICAgICAgIHRpY2tGb3JtYXQ6IGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkMy50aW1lLmZvcm1hdCgnJXgvJVgnKShuZXcgRGF0ZShkKSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeUF4aXM6IHtcbiAgICAgICAgICAgICAgICAgICAgYXhpc0xhYmVsOiAnVm9sdGFnZSAodiknLFxuICAgICAgICAgICAgICAgICAgICB0aWNrRm9ybWF0OiBmdW5jdGlvbihkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkMy5mb3JtYXQoJy4wMmYnKShkKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXhpc0xhYmVsRGlzdGFuY2U6IDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICAgICAgZW5hYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRleHQ6ICdUaXRsZSBmb3IgTGluZSBDaGFydCAyJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8ge1xuICAgICAgLy8gICBcInRpdGxlXCI6IFwidGhyZWVcIixcbiAgICAgIC8vICAgXCJ0eXBlXCIgICAgOiBcImluY2lkZW50XCJcbiAgICAgIC8vIH0sXG4gICAgICB7XG4gICAgICAgIFwidGl0bGVcIjogXCJmb3VyXCIsXG4gICAgICAgIFwidHlwZVwiICAgIDogXCJpbmNpZGVudFwiXG4gICAgICB9XG4gICAgXVxuICB9LFxuICB7IFxuICAgIFwicm93XCIgICA6IDEsXG4gICAgXCJpdGVtc1wiIDogW1xuICAgICAge1xuICAgICAgICBcInRpdGxlXCIgOiBcIkxhc3QgMTAwMCBldmVudHNcIixcbiAgICAgICAgXCJ0eXBlXCIgIDogXCJncmFwaFwiLFxuICAgICAgICAvLyBcImRhdGFcIiAgOiBbXG4gICAgICAgIC8vICAgeyAna2V5JyA6ICdQT1JUU0NBTl9IJyxcbiAgICAgICAgLy8gICAgICd5JzogNjg3XG4gICAgICAgIC8vICAgfSxcbiAgICAgICAgLy8gICB7ICdrZXknIDogJ0ROU0FNUCcsXG4gICAgICAgIC8vICAgICAneSc6IDJcbiAgICAgICAgLy8gICB9LFxuICAgICAgICAvLyAgIHsgJ2tleScgOiAnVk9JUF9QUkVGSVhfR1VFU1MnLFxuICAgICAgICAvLyAgICAgJ3knOiAxODlcbiAgICAgICAgLy8gICB9LFxuICAgICAgICAvLyAgIHsgJ2tleScgOiAnQlJVVEVGT1JDRScsXG4gICAgICAgIC8vICAgICAneSc6IDEyMlxuICAgICAgICAvLyAgIH1dLFxuICAgICAgICBcIm9wdGlvbnNcIjoge1xuICAgICAgICAgICAgY2hhcnQ6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncGllQ2hhcnQnLFxuICAgICAgICAgICAgICAgIGhlaWdodDogNTAwLFxuICAgICAgICAgICAgICAgIHg6IGZ1bmN0aW9uKGQpe3JldHVybiBkLmtleTt9LFxuICAgICAgICAgICAgICAgIHk6IGZ1bmN0aW9uKGQpe3JldHVybiBkLnk7fSxcbiAgICAgICAgICAgICAgICBzaG93TGFiZWxzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRvbnV0IDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwYWRBbmdsZSA6IDAuMDIsXG4gICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzIDogMyxcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uRHVyYXRpb246IDUwMCxcbiAgICAgICAgICAgICAgICBsYWJlbFRocmVzaG9sZDogMC4xLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBbXCIjMGVjNGY0XCIsIFwiIzYzMUZGNlwiLCBcIiNGRkRDMDZcIiwgXCIjRkY4NDA2XCIsIFwiI2I1Njk2OVwiLCBcIiNlNmNmOGJcIl0sXG4gICAgICAgICAgICAgICAgbGVnZW5kOiB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDEwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogNSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IDBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgXCJ0aXRsZVwiOiBcIjJcIixcbiAgICAgICAgXCJ0eXBlXCIgICAgOiBcImluY2lkZW50XCJcbiAgICAgIH0sXG4gICAgXVxuICB9LFxuICBdKTtcblxuLy9hcHAudmFsdWUoJ2VkaXRNb2RlJywgZmFsc2UpO1xuXG5mdW5jdGlvbiBwcm9jZXNzRGF0YShkYXRhKSB7XG4gIHZhciBkYXRhQXJyID0gW107XG4gIGFuZ3VsYXIuZm9yRWFjaChkYXRhLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgLy9jb25zb2xlLmxvZyhkYXRhW2tleV1bXCJzY2FsZVwiXSk7XG4gICAgZGF0YUFyci5wdXNoKHsgeCA6IGRhdGFba2V5XVtcInRpbWVfZmlyc3RcIl0qMTAwMCwgeSA6IGRhdGFba2V5XVtcInNjYWxlXCJdfSk7XG4gIH0pO1xuXG4gIHJldHVybiBbe3ZhbHVlczogZGF0YUFycn1dO1xufTtcblxuZnVuY3Rpb24gcGllQ2hhcnQoZGF0YSkge1xuICB2YXIgY291bnRlciA9IG5ldyBPYmplY3QoKTtcbiAgYW5ndWxhci5mb3JFYWNoKGRhdGEsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgIHZhciBkb2N0eXBlID0gZGF0YVtrZXldWyd0eXBlJ107XG5cbiAgICAgIGlmIChjb3VudGVyW2RvY3R5cGVdICE9IHVuZGVmaW5lZCApIHtcbiAgICAgICAgY291bnRlcltkb2N0eXBlXSArPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY291bnRlcltkb2N0eXBlXSA9IDE7XG4gICAgICB9XG4gIH0pO1xuXG4gIHZhciBkYXRhQXJyID0gW107XG4gIGFuZ3VsYXIuZm9yRWFjaChjb3VudGVyLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgZGF0YUFyci5wdXNoKHtrZXkgOiBrZXksIHkgOiB2YWx1ZX0pO1xuICB9KTtcblxuICByZXR1cm4gZGF0YUFycjtcbn1cblxuYXBwLmNvbnRyb2xsZXIoJ3VzZXJDb250cm9sbGVyJywgW1wiJHNjb3BlXCIsIGZ1bmN0aW9uKCRzY29wZSl7XG4gIGNvbnNvbGUubG9nKFwiaGVsbG8hXCIpO1xufV0pO1xuXG5hcHAuY29udHJvbGxlcignaG9tZUNvbnRyb2xsZXInLCBbXCIkc2NvcGVcIiwgXCIkbWRTaWRlbmF2XCIsIFwiJGxvZ1wiLCBcIiRzY2VcIiwgXCJhcGlcIiwgXCIkbWREaWFsb2dcIiwgXCIkdGltZW91dFwiLCBcImJveGVzX2FyclwiLCBcIiRodHRwXCIsIFwiJHJvb3RTY29wZVwiLCBmdW5jdGlvbigkc2NvcGUsICRtZFNpZGVuYXYsICRsb2csICRzY2UsIGFwaSwgJG1kRGlhbG9nLCAkdGltZW91dCwgYm94ZXNfYXJyLCAkaHR0cCwgJHJvb3RTY29wZSkge1xuXHQkc2NvcGUuYm94ZXNfYXJyID0gYm94ZXNfYXJyO1xuICAkc2NvcGUudGl0bGUgPSBcIkhvbWUgc3dlZXQgaG9tZVwiO1xuICBcbiAgLy9TaG93L2hpZGUgZWRpdCBidXR0b25zIG9uIGJ1dHRvbiBjbGlja1xuICAvL0BkZWZhdWx0OiBoaWRkZW4vZmFsc2VcbiAgJHNjb3BlLiRvbigncmVxQ2hhbmdlTW9kZScsIGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoJHNjb3BlLmVkaXRNb2RlID09IHVuZGVmaW5lZCkge1xuICAgICAgJHNjb3BlLmVkaXRNb2RlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHNjb3BlLmVkaXRNb2RlID0gISgkc2NvcGUuZWRpdE1vZGUpO1xuICAgIH1cbiAgfSk7XG5cbiAgLyp2YXIgcmVzcCA9ICRodHRwLmdldCgnaHR0cDovL2xvY2FsaG9zdDo1MDAwL2V2ZW50cy90eXBlL3BvcnRzY2FuL2xhc3QvMTAwJylcbiAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAkc2NvcGUuZGF0YSA9IHJlc3BvbnNlO1xuICAgICAgICAgIHJldHVybiBwcm9jZXNzRGF0YShyZXNwb25zZSlcbiAgICAgICAgfSlcbiAgICAgICAgLmVycm9yKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuZGF0YSk7XG4qL1xuICAvKmFwaSgndHlwZS9wb3J0c2Nhbi90b3AvMTAnKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICB2YXIgcHJvY2Nlc3NlZCA9IHByb2Nlc3NEYXRhKGRhdGEpO1xuICAgIC8vY29uc29sZS5sb2cocHJvY2Nlc3NlZCk7XG4gICAgYm94ZXNfYXJyWzBdLml0ZW1zWzFdLmRhdGEgPSBwcm9jY2Vzc2VkO1xuICAgIC8vY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoYm94ZXNfYXJyWzBdLml0ZW1zWzFdLmRhdGEpKTtcbiAgfSlcblxuICBhcGkoJ3R5cGUvcG9ydHNjYW4vdG9wLzEnKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAvL3ZhciBwcm9jY2Vzc2VkID0gcHJvY2Vzc0RhdGEoZGF0YSk7XG4gICAgLy9jb25zb2xlLmxvZyhwcm9jY2Vzc2VkKTtcbiAgICAvL2JveGVzX2FyclswXS5pdGVtc1sxXS5kYXRhID0gcHJvY2Nlc3NlZDtcbiAgICAvL2NvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgfSlcblxuICBhcGkoJ2xhc3QvMTAwMCcpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xuICAgIGJveGVzX2FyclsxXS5pdGVtc1swXS5kYXRhID0gcGllQ2hhcnQoZGF0YSk7XG4gICAgLy9jb25zb2xlLmxvZyhwaWVDaGFydChkYXRhKSk7XG4gIH0pKi9cblxuICBcblxuICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAvL2JveGVzX2FyclswXS5pdGVtc1sxXS5kYXRhID0gZGF0YTtcblxuXG4gICRzY29wZS5hZGRSb3cgPSBmdW5jdGlvbigpIHtcbiAgICAkbG9nLmluZm8oXCJhZGRpbmcgcm93XCIpO1xuICAgIGNvbnNvbGUubG9nKGJveGVzX2Fycik7XG4gICAgdmFyIHRtcCA9IHt9O1xuXG4gICAgdG1wLnJvdyA9IGJveGVzX2Fyci5sZW5ndGg7XG4gICAgdG1wLml0ZW1zID0gW3tcbiAgICAgIFwidGl0bGVcIiA6IFwiYWxvaGEhXCJcbiAgICB9XTtcbiAgICBib3hlc19hcnIucHVzaCh0bXApO1xuICB9O1xuXG4gICRzY29wZS5zaG93VGl0bGUgPSB0cnVlO1xuXG59XSk7XG5cblxuYXBwLmNvbnN0YW50KFwiTUVOVVwiLCBbXG5cdHtcblx0XHRcInRpdGxlXCIgOiBcIkRhc2hib2FyZFwiLFxuXHRcdC8qXCJpdGVtc1wiIDogW1xuXHRcdFx0e1xuXHRcdFx0XHRcInRpdGxlXCIgOiBcIlVzZXJzXCIsXG5cdFx0XHRcdFwibGlua1wiXHQ6IFwidXNlclwiXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRcInRpdGxlXCIgOiBcIk15IHByb2ZpbGVcIlxuXHRcdFx0fVxuXHRcdF0qL1xuXHR9LFxuXHR7XG5cdFx0XCJ0aXRsZVwiIDogXCJFdmVudHNcIixcblx0XHRcImxpbmtcIiBcdDogXCJldmVudHNcIlxuXHR9LFxuXHQvKntcblx0XHRcInRpdGxlXCIgOiBcIkFuYWx5dGljczIzXCIsXG5cdFx0XCJpdGVtc1wiIDogW1xuXHRcdFx0e1xuXHRcdFx0XHRcInRpdGxlXCIgOiBcIlVzZXJzXCIsXG5cdFx0XHRcdFwibGlua1wiIFx0OiBcInNldHRpbmdzXCJcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdFwidGl0bGVcIiA6IFwiTXkgcHJvZmlsZVwiLFxuXHRcdFx0XHRcImxpbmtcIlx0OiBcInByb2ZpbGVcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0XCJ0aXRsZVwiIDogXCJNeSBwcm9maWxlXCIsXG5cdFx0XHRcdFwibGlua1wiXHQ6IFwicHJvZmlsZVwiXG5cdFx0XHR9XG5cdFx0XVxuXG5cdH0sXG5cdHtcblx0XHRcInRpdGxlXCIgOiBcIkFuYWx5dGljczEyM1wiLFxuXHRcdFwibGlua1wiIFx0OiBcImxvZ2luXCJcblx0fSwqL1xuXHR7XG5cdFx0XCJ0aXRsZVwiIDogXCJTZXR0aW5nc1wiLFxuXHRcdFwiaXRlbXNcIiA6IFtcblx0XHRcdHtcblx0XHRcdFx0XCJ0aXRsZVwiIDogXCJVc2Vyc1wiLFxuXHRcdFx0XHRcImxpbmtcIiBcdDogXCJzZXR0aW5nc1wiXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRcInRpdGxlXCIgOiBcIk15IHByb2ZpbGVcIixcblx0XHRcdFx0XCJsaW5rXCJcdDogXCJwcm9maWxlXCJcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdFwidGl0bGVcIiA6IFwiTXkgcHJvZmlsZVwiLFxuXHRcdFx0XHRcImxpbmtcIlx0OiBcInByb2ZpbGVcIlxuXHRcdFx0fVxuXHRcdF1cblx0fVxuXSk7XG5cblxuXG5hcHAuZmFjdG9yeSgnY29uZmlybUxvZ291dCcsIGZ1bmN0aW9uKCl7XG5cdHJldHVybiBmdW5jdGlvbiAoKXtcblx0ICAgIFxuXHR9O1xufSk7XG5cbmFwcC5jb250cm9sbGVyKCd0b3BCYXInLCB0b3BCYXJDdHJsKTtcblxuZnVuY3Rpb24gdG9wQmFyQ3RybCgkbWREaWFsb2csIGNvbmZpcm1Mb2dvdXQsICRsb2NhdGlvbiwgJG1kU2lkZW5hdil7XG5cblx0dGhpcy51c2VyID0gXCJQZXRyXCJcblxuICB0aGlzLnRvZ2dsZUxlZnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICRtZFNpZGVuYXYoJ2xlZnQnKS50b2dnbGUoKTtcbiAgICB9O1xuICBcdFxuICB0aGlzLmxvZ291dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxuXHQgICAgICAgIC50aXRsZSgnQXJlIHlvdSBzdXJlPycpXG5cdCAgICAgICAgLmNvbnRlbnQoJ1lvdSBhcmUgYWJvdXQgdG8gYmUgbG9nZ2VkIG91dC4gQWxsIHVuc2F2ZWQgY2hhbmdlcyB3aWxsIGJlIGxvc3QgaW4gdGhlIHZvaWQhJylcblx0ICAgICAgICAub2soJ0xvZyBtZSBvdXQnKVxuXHQgICAgICAgIC5jYW5jZWwoJ0tlZXAgbWUgaGVyZScpXG4gICAgJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbihcbiAgICBcdGZ1bmN0aW9uKCkge1xuICAgIFx0XHQkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XG4gICAgXHR9KTtcbiAgfTtcblxuICBcbn07XG5cbmFwcC5jb250cm9sbGVyKCdyb3cnLCBbXCIkc2NvcGVcIiwgXCIkdGltZW91dFwiLCBmdW5jdGlvbigkc2NvcGUsICR0aW1lb3V0KXtcbiAgJHNjb3BlLiRvbigncmVxdWVzdFJlZHJhdycsIGZ1bmN0aW9uKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJyZXF1ZXN0IGFjY2VwdGVkXCIpO1xuICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdyZXNpemUnKSk7XG4gICAgfSwgMTApO1xuICB9KTtcbn1dKTtcblxuYXBwLmNvbnRyb2xsZXIoJ2JveCcsIFtcIiRzY29wZVwiLCBcIiRsb2dcIiwgXCJib3hlc19hcnJcIiwgXCIkdGltZW91dFwiLCBcImpzb25kYXRhXCIsIFwiJGVsZW1lbnRcIiwgXCIkbWREaWFsb2dcIiwgXCJQUk9UT0NPTFNcIiwgXCJUWVBFU1wiLCBcIkNBVEVHT1JJRVNcIiwgXCIkaHR0cFwiLCBcIlBJRUNIQVJUXCIsIGZ1bmN0aW9uKCRzY29wZSwgJGxvZywgYm94ZXNfYXJyLCAkdGltZW91dCwganNvbmRhdGEsICRlbGVtZW50LCAkbWREaWFsb2csIFBST1RPQ09MUywgVFlQRVMsIENBVEVHT1JJRVMsICRodHRwLCBQSUVDSEFSVCl7XG4gICAgXG4gICAgZnVuY3Rpb24gdGltZVNoaWZ0KCkgeyAgICBcbiAgICAgICAgaWYgKCRzY29wZS5ib3ggIT0gdW5kZWZpbmVkICYmICRzY29wZS5ib3gudHlwZSA9PSBcInBpZWNoYXJ0XCIpIHtcbiAgICAgICAgICAgICRzY29wZS5ib3guY29uZmlnLmJlZ2ludGltZSA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICBub3cuc2V0SG91cnMobm93LmdldEhvdXJzKCkgLSAkc2NvcGUuYm94LmNvbmZpZy5wZXJpb2QpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG5vdylcbiAgICAgICAgICAgICAgICByZXR1cm4gbm93O1xuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRpbWVTaGlmdCgpO1xuXG4gICAgICAgIFxuICAgICRzY29wZS5vcGVuTWVudSA9IGZ1bmN0aW9uKCRtZE9wZW5NZW51LCBldikge1xuICAgICAgICBvcmlnaW5hdG9yRXYgPSBldjtcbiAgICAgICAgJG1kT3Blbk1lbnUoZXYpO1xuICAgIH07XG4gICAgJHNjb3BlLmVkaXRNb2RlID0gZmFsc2U7XG4gICAgJHNjb3BlLmJhY2t1cE1vZGVsID0ge307XG5cblxuICAgICRzY29wZS5wcm90b2NvbCA9IFBST1RPQ09MUztcbiAgICAkc2NvcGUudHlwZXMgPSBUWVBFUztcbiAgICAkc2NvcGUuY2F0ZWdvcmllcyA9IENBVEVHT1JJRVM7XG5cblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBFZGl0IG1vZGUgaGFuZGxpbmdcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAvLyBUcmlnZ2VyIGVkaXRpbmcgbW9kZSBhbmQgc2F2ZSBjdXJyZW50IHN0YXRlXG4gICAgJHNjb3BlLmVkaXQgPSBmdW5jdGlvbihib3gpIHtcbiAgICAgICAgJHNjb3BlLmVkaXRNb2RlID0gdHJ1ZTtcbiAgICAgICAgJHNjb3BlLmJhY2t1cE1vZGVsID0gYW5ndWxhci5jb3B5KGJveCk7XG4gICAgfVxuXG4gICAgLy8gU2F2ZSBjaGFuZ2VzIGFuZCBkaXNhYmxlIGVkaXQgbW9kZVxuICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS5iYWNrdXBNb2RlbCA9IHt9O1xuICAgICAgICAkbG9nLmluZm8oXCJFZGl0IGlzIGRvbmVcIik7XG4gICAgICAgICRsb2cuaW5mbyhKU09OLnN0cmluZ2lmeSgkc2NvcGUuYm94KSk7XG4gICAgICAgICRzY29wZS5lZGl0TW9kZSA9IGZhbHNlO1xuICAgICAgICB0aW1lU2hpZnQoKTtcbiAgICAgICAgJGh0dHAucG9zdCgnaHR0cDovL2JlbmVmaXppby5saWJlcm91dGVyLm9yZzo1NTU1L3YyL2V2ZW50cy9hZ2cnLCBKU09OLnN0cmluZ2lmeSgkc2NvcGUuYm94LmNvbmZpZykpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xuICAgIC8vJGh0dHAucG9zdCgnaHR0cDovL3Bjc3RlaGxpay5maXQudnV0YnIuY3o6NTU1NS92Mi9ldmVudHMvYWdnJywgJHNjb3BlLmJveC5jb25maWcpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAkc2NvcGUuYm94LmRhdGEgPSBkYXRhO1xuICAgIH0pO1xuIFxuICAgIH1cblxuICAgIC8vIFJldmVydCB0byBvcmlnaW5hbCBhbmQgZGlzYWJsZSBlZGl0IG1vZGVcbiAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oYm94KSB7XG4gICAgICAgICRzY29wZS5ib3ggPSBhbmd1bGFyLmNvcHkoJHNjb3BlLmJhY2t1cE1vZGVsKTtcbiAgICAgICAgJHNjb3BlLmJhY2t1cE1vZGVsID0ge307XG4gICAgICAgICRzY29wZS5lZGl0TW9kZSA9IGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygkc2NvcGUuYm94KVxuXG4gICAgaWYgKCRzY29wZS5ib3ggIT0gdW5kZWZpbmVkICYmICRzY29wZS5ib3gudHlwZSA9PSBcInBpZWNoYXJ0XCIpIHtcbiAgICAgICAgJHNjb3BlLmJveC5vcHRpb25zID0gUElFQ0hBUlQub3B0aW9ucztcbiAgICAgICAgJHNjb3BlLmJveC5jb25maWdbXCJ0eXBlXCJdID0gXCJhcmVhY2hhcnRcIjtcbiAgICAgICAgJGxvZy5pbmZvKEpTT04uc3RyaW5naWZ5KCRzY29wZS5ib3guY29uZmlnKSk7XG4gICAgICAgICRodHRwLnBvc3QoJ2h0dHA6Ly9iZW5lZml6aW8ubGliZXJvdXRlci5vcmc6NTU1NS92Mi9ldmVudHMvYWdnJywgSlNPTi5zdHJpbmdpZnkoJHNjb3BlLmJveC5jb25maWcpKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAvLyRodHRwLnBvc3QoJ2h0dHA6Ly9wY3N0ZWhsaWsuZml0LnZ1dGJyLmN6OjU1NTUvdjIvZXZlbnRzL2FnZycsICRzY29wZS5ib3guY29uZmlnKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgJHNjb3BlLmJveC5kYXRhID0gZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgLy9BZGQgZWxlbWVudCB0byBnaXZlbiByb3dcbiAgICAkc2NvcGUuYWRkRWxlbSA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICRsb2cuaW5mbyhcImFkZGluZyBlbGVtZW50XCIpO1xuXG4gICAgICAgIHZhciBpdGVtID0ge307XG5cbiAgICAgICAgJHNjb3BlLmZ1bGwgPSBmYWxzZTtcblxuICAgIGlmIChib3hlc19hcnJbaW5kZXhdLml0ZW1zLmxlbmd0aCA+IDUpIHtcbiAgICAgICRzY29wZS5mdWxsID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgYm94ZXNfYXJyW2luZGV4XS5pdGVtcy5wdXNoKGl0ZW0pO1xuICAgIH1cblxuICAgICRzY29wZS4kZW1pdCgncmVxdWVzdFJlZHJhdycpO1xuICB9O1xuXG4gICRzY29wZS5yZW1vdmVFbGVtID0gZnVuY3Rpb24ocGFySW5kZXgsaW5kZXgpIHtcblxuICAgICRsb2cuaW5mbyhwYXJJbmRleCk7XG4gICAgJGxvZy5pbmZvKGluZGV4KTtcblxuICAgIGJveGVzX2FycltwYXJJbmRleF0uaXRlbXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB2YXIgdG1wID0ge307XG4gICAgICAgICAgICBcbiAgICBpZihib3hlc19hcnJbcGFySW5kZXhdLml0ZW1zLmxlbmd0aCA9PSAwKSB7XG4gICAgICB0bXAgPSBib3hlc19hcnJbcGFySW5kZXhdLml0ZW1zW2luZGV4XTtcbiAgICAgIGJveGVzX2Fyci5zcGxpY2UocGFySW5kZXgsIDEpO1xuICAgIH1cblxuICAgICRzY29wZS4kZW1pdCgncmVxdWVzdFJlZHJhdycpO1xuICB9O1xuXG59XSk7XG5cbmFwcC5jb250cm9sbGVyKCdsb2dpbkNvbnRyb2xsZXInLCBbXCIkc2NvcGVcIiwgXCIkbG9jYXRpb25cIiwgXCIkbG9nXCIsIFwibG9naW5BdXRoXCIsIFwiJHJvb3RTY29wZVwiLCBcImxvY2FsU3RvcmFnZVNlcnZpY2VcIiwgZnVuY3Rpb24oJHNjb3BlLCAkbG9jYXRpb24sICRsb2csIGxvZ2luQXV0aCwgJHJvb3RTY29wZSwgbG9jYWxTdG9yYWdlU2VydmljZSkge1xuXHQkc2NvcGUudGl0bGUgPSBcIkxvZ2luIVwiO1xuXHQkc2NvcGUubG9naW5CdG4gPSBcIkxvZ2luXCI7XG4gICAgXG4gICAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2codXNlcik7XG4gICAgfVxuXG5cdCRzY29wZS5oaXRTdWJtaXQgPSBmdW5jdGlvbih1c2VyKXtcbiAgICAgICAgY29uc29sZS5sb2coXCJ0ZXN0XCIpO1xuXG5cdFx0JHNjb3BlLmxvZ2luQnRuID0gXCJQbGVhc2Ugd2FpdC4uLlwiO1xuXHRcdFxuXHRcdGxvZ2luQXV0aC5mZXRjaFVzZXIodXNlcilcblx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG5cblx0XHRcdCRsb2cuaW5mbyhkYXRhKTtcblxuXHRcdFx0aWYgKGRhdGFbXCJzdWNjZXNzXCJdID09IHRydWUpIHtcblx0XHRcdFx0Ly8kbG9nLmluZm8oZGF0YSk7XHRcblx0XHRcdFx0JHNjb3BlLmxvZ2luQnRuID0gXCJTdWNjZXNzXCI7XG5cdFx0XHRcdCRsb2NhdGlvbi5wYXRoKFwiL1wiKTtcblx0XHRcdFx0bG9jYWxTdG9yYWdlU2VydmljZS5zZXQoJ2xvZ2dlZEluJywgdHJ1ZSk7XG5cdFx0XHRcdGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KCdsb2dnZWRJbi5wdycsIHNoYTI1Nl9kaWdlc3QoZGF0YS5wYXNzd29yZCkpO1x0XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0JGxvZy5lcnJvcihcImVycm9yIC0gYmFkIHBhc3N3b3JkXCIpO1xuXHRcdFx0XHQkc2NvcGUuZXJyb3JfbWVzID0gXCJCYWQgcGFzc3dvcmRcIjtcblx0XHRcdFx0JHNjb3BlLmxvZ2luQnRuID0gXCJMb2dpblwiO1xuXHRcdFx0XHRsb2dpbkNvcnJlY3QgPSBmYWxzZTtcblx0XHRcdFx0bG9jYWxTdG9yYWdlU2VydmljZS5zZXQoJ2xvZ2dlZEluJywgZmFsc2UpO1x0XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH07XG59XSk7XG5cbmFwcC5mYWN0b3J5KCdtZW51JywgWyckaHR0cCcsIGZ1bmN0aW9uKCRodHRwKSB7XG5cdHJldHVybiAkaHR0cC5nZXQoJ2pzb24vbWVudS5qc29uJylcblx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRyZXR1cm4gZGF0YTtcblx0XHR9KTtcblx0Ly9cdC5lcnJvcihjb25zb2xlLmxvZygnQ2Fubm90IHJldHJpZXZlIGRhdGEnKSk7XG59XSk7XG5cbmFwcC5mYWN0b3J5KCdqc29uZGF0YScsIFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xuXHRyZXR1cm4gJGh0dHAuZ2V0KCdqc29uL3Rlc3RmaWxlXzEwMC5qc29uJylcblx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRyZXR1cm4gZGF0YTtcblx0XHR9KTtcblx0Ly9cdC5lcnJvcihjb25zb2xlLmxvZygnQ2Fubm90IHJldHJpZXZlIGRhdGEnKSk7XG59XSk7XG5cbmFwcC5mYWN0b3J5KCdhcGknLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcblx0cmV0dXJuIGZ1bmN0aW9uKHVybCkge1xuXHRcdC8qJGh0dHAuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjUwMDAvZXZlbnRzLycgKyB1cmwpXG5cdFx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGRhdGEpO1xuXHRcdFx0XHRyZXNwb25zZSA9IGRhdGE7XG5cdFx0XHRcdHJldHVybiByZXNwb25zZTtcblx0XHRcdH0pXG5cdFx0XHQuZXJyb3IoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdDYW5ub3QgZmV0Y2ggZGF0YScpO1xuXHRcdFx0fSk7XG5cdFx0cmV0dXJuIHJlc3BvbnNlOyovXG5cblx0XHR2YXIgYWRkciA9IFwiaHR0cDovL3Bjc3RlaGxpay5maXQudnV0YnIuY3o6NTU1NS9ldmVudHMvXCIgKyB1cmxcblxuXHRcdHJldHVybiAkaHR0cC5nZXQoYWRkcilcblx0XHRcdC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFx0Ly9jb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShkYXRhKSk7XG5cdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0fSk7XG5cblx0XHQvL3JldHVybiAkcmVzb3VyY2UoYWRkciwgeyBxdWVyeTogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5IDogZmFsc2UgfSB9ICk7XG5cdH1cblxuXG4vL1x0LmVycm9yKGNvbnNvbGUubG9nKCdDYW5ub3QgcmV0cmlldmUgZGF0YScpKTtcbn1dKTtcblxuYXBwLmRpcmVjdGl2ZShcInNpZGViYXJNZW51XCIsIGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4ge1xuICAgICAgICBzY29wZToge1xuXHRcdFx0c2VjdGlvbjogJz0nXG5cdFx0fSxcblx0XHR0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL3NpZGViYXItbWVudS5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogW1wiJHNjb3BlXCIsIFwiJG1kU2lkZW5hdlwiLCBcIk1FTlVcIiwgZnVuY3Rpb24oJHNjb3BlLCAkbWRTaWRlbmF2LCBNRU5VKSB7XG4gICAgICAgICAgICAkc2NvcGUubWVudSA9IE1FTlU7XG5cbiAgICAgICAgICAgICRzY29wZS5jaGFuZ2VNb2RlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdyZXFDaGFuZ2VNb2RlJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRzY29wZS5lbmFibGUgPSB0cnVlO1xuXG4gICAgICAgICAgICAkc2NvcGUudG9nZ2xlSXRlbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS50b2dnbGVCdG4gPSBcInRvZ2dsZWRcIjtcbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgJHNjb3BlLmNsb3NlTGVmdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRtZFNpZGVuYXYoJ2xlZnQnKS50b2dnbGUoKTtcbiAgICAgICAgICAgIH07XG4gICAgXG4gXG4gICAgICAgIH1dXG5cdH07XG59KTtcblxuYXBwLmRpcmVjdGl2ZShcInRvcGJhck1lbnVcIiwgZnVuY3Rpb24oKSB7XG5cdHJldHVybiB7XG5cdFx0c2NvcGU6IHtcblx0XHRcdHNlY3Rpb246ICc9J1xuXHRcdH0sXG5cdFx0dGVtcGxhdGVVcmw6ICdwYXJ0aWFscy90b3BiYXItbWVudS5odG1sJ1xuXHR9O1xufSk7XG5cbmFwcC5kaXJlY3RpdmUoXCJib3hlc1wiLCBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHtcblx0XHRzY29wZToge1xuXHRcdFx0c2VjdGlvbjogJz0nXG5cdFx0fSxcblx0XHR0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL2JveGVzLmh0bWwnXG5cdH07XG59KTtcblxuXG5hcHAuZGlyZWN0aXZlKCdjbGlja0VkaXQnLCBmdW5jdGlvbigpIHtcblx0dmFyIHRlbXBsYXRlID0gJzxkaXY+PGgyIG5nLXNob3c9XCJ2aWV3LnNob3dUaXRsZVwiIG5nLWNsaWNrPVwiZWRpdFRpdGxlKClcIj57e2JveC50aXRsZX19PC9oMj4nICtcblx0XHRcdFx0JzxtZC1pbnB1dC1jb250YWluZXIgbmctaGlkZT1cInNob3dUaXRsZVwiPicgK1xuXHRcdFx0XHRcdCc8aW5wdXQgdHlwZT1cInRleHRcIiB2YWx1ZT1cInt7Ym94LnRpdGxlfX1cIiBuZy1ibHVyPVwiZWRpdFRpdGxlKGJveC50aXRsZSlcIiBuZy1tb2RlbD1cImJveC50aXRsZVwiIGNsYXNzPVwiZm9jdXNUaXRsZVwiIGFyaWEtbGFiZWw9XCJFZGl0IFRpdGxlXCI+JyArXG5cdFx0XHRcdCc8L21kLWlucHV0LWNvbnRhaW5lcj48L2Rpdj4nO1xuXG5cdHJldHVybiB7XG5cdFx0cmVzdHJpY3QgXHQ6IFwiQVwiLFxuXHRcdHJlcGxhY2VcdFx0OiB0cnVlLFxuXHRcdHRlbXBsYXRlIFx0OiB0ZW1wbGF0ZSxcblx0XHRzY29wZVx0XHQ6IHtcblx0XHRcdHZhbHVlOiBcIj1jbGlja0VkaXRcIlxuXHRcdH0sXG5cdFx0Y29udHJvbGxlclx0OiBbXCIkc2NvcGVcIiwgXCJpbnB1dFRleHRcIiwgXCIkdGltZW91dFwiLCBmdW5jdGlvbigkc2NvcGUsIGlucHV0VGV4dCwgJHRpbWVvdXQpIHtcblx0XHRcdCRzY29wZS52aWV3LnNob3dUaXRsZSA9IHRydWU7XG5cblx0XHRcdGlmICgkc2NvcGUuc2hvd1RpdGxlID0gdHJ1ZSkge1xuXHRcdCAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdCAgICAgICAgYW5ndWxhci5lbGVtZW50KCcuZm9jdXNUaXRsZScpLnRyaWdnZXIoJ2ZvY3VzJyk7XG5cdFx0ICAgICAgICBjb25zb2xlLmxvZyhcInRyaWdnZXJcIik7XG5cdFx0ICAgICAgfSwgMTAwKTtcblx0XHQgICAgfTtcblxuXHRcdCAgICAkc2NvcGUuZWRpdFRpdGxlID0gZnVuY3Rpb24oKSB7XG5cdFx0ICAgIFx0JHNjb3BlLnZpZXcuc2hvd1RpdGxlID0gISRzY29wZS52aWV3LnNob3dUaXRsZTtcblx0XHQgICAgfTtcblx0XHR9XVxuXHR9O1xufSk7XG5cbmFwcC5kaXJlY3RpdmUoXCJjbGlja1RvRWRpdFwiLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgZWRpdG9yVGVtcGxhdGUgPSAnPGRpdiBjbGFzcz1cImNsaWNrLXRvLWVkaXRcIj4nICtcbiAgICAgICAgJzxkaXYgbmctaGlkZT1cInZpZXcuZWRpdG9yRW5hYmxlZFwiIG5nLWNsaWNrPVwiZW5hYmxlRWRpdG9yKClcIj4nICtcbiAgICAgICAgICAgICc8YSBuZy1jbGljaz1cImVuYWJsZUVkaXRvcigpXCI+PG1kLWljb24gbWQtc3ZnLXNyYz1cImltZy9pY29ucy9lZGl0LnN2Z1wiPjwvbWQtaWNvbj48L2E+JyArXG4gICAgICAgICAgICAne3t2YWx1ZX19ICcgK1xuICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICc8bWQtaW5wdXQtY29udGFpbmVyIG5nLXNob3c9XCJ2aWV3LmVkaXRvckVuYWJsZWRcIj4nICtcblx0ICAgICAgICAnPGRpdj4nICtcblx0ICAgICAgICAgICAgJzxpbnB1dCBuZy1tb2RlbD1cInZpZXcuZWRpdGFibGVWYWx1ZVwiIGNsYXNzPVwiZm9jdXNUaXRsZVwiIGFyaWEtbGFiZWw9XCJUaXRsZVwiPicgK1xuXHQgICAgICAgICAgICAnPHNwYW4gbmctY2xpY2s9XCJzYXZlKClcIj5TYXZlPC9zcGFuPicgK1xuXHQgICAgICAgICAgICAnIG9yICcgK1xuXHQgICAgICAgICAgICAnPGEgbmctY2xpY2s9XCJkaXNhYmxlRWRpdG9yKClcIj5jYW5jZWw8L2E+LicgK1xuXHQgICAgICAgICc8L2Rpdj4nICtcblx0ICAgICc8L21kLWlucHV0LWNvbnRhaW5lcj4nICtcbiAgICAnPC9kaXY+JztcblxuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiBcIkFcIixcbiAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgdGVtcGxhdGU6IGVkaXRvclRlbXBsYXRlLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgdmFsdWU6IFwiPWNsaWNrVG9FZGl0XCIsXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRyb2xsZXI6IFtcIiRzY29wZVwiLCBcIiR0aW1lb3V0XCIsIGZ1bmN0aW9uKCRzY29wZSwgJHRpbWVvdXQpIHtcbiAgICAgICAgICAgICRzY29wZS52aWV3ID0ge1xuICAgICAgICAgICAgICAgIGVkaXRhYmxlVmFsdWU6ICRzY29wZS52YWx1ZSxcbiAgICAgICAgICAgICAgICBlZGl0b3JFbmFibGVkOiBmYWxzZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLmVuYWJsZUVkaXRvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS52aWV3LmVkaXRvckVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICRzY29wZS52aWV3LmVkaXRhYmxlVmFsdWUgPSAkc2NvcGUudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcblx0XHQgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnLmZvY3VzVGl0bGUnKS50cmlnZ2VyKCdmb2N1cycpO1xuXHRcdCAgICAgICAgY29uc29sZS5sb2coXCJ0cmlnZ2VyXCIpO1xuXHRcdCAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuZGlzYWJsZUVkaXRvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS52aWV3LmVkaXRvckVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnZhbHVlID0gJHNjb3BlLnZpZXcuZWRpdGFibGVWYWx1ZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGlzYWJsZUVkaXRvcigpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfV1cbiAgICB9O1xufSk7XG4iLCJhcHAuY29uc3RhbnQoJ1BJRUNIQVJUJywgeyBcbiAgICBvcHRpb25zOiB7XG4gICAgICAgIGNoYXJ0OiB7XG4gICAgICAgICAgICB0eXBlOiAncGllQ2hhcnQnLFxuICAgICAgICAgICAgaGVpZ2h0OiA1MDAsXG4gICAgICAgICAgICB4OiBmdW5jdGlvbihkKXtyZXR1cm4gZC5rZXlbMF07fSxcbiAgICAgICAgICAgIHk6IGZ1bmN0aW9uKGQpe3JldHVybiBkLng7fSxcbiAgICAgICAgICAgIHNob3dMYWJlbHM6IHRydWUsXG4gICAgICAgICAgICBkb251dCA6IHRydWUsXG4gICAgICAgICAgICBwYWRBbmdsZSA6IDAuMDIsXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXMgOiAzLFxuICAgICAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uOiA1MDAsXG4gICAgICAgICAgICBsYWJlbFRocmVzaG9sZDogMC4xLFxuICAgICAgICAgICAgY29sb3I6IFtcIiMwZWM0ZjRcIiwgXCIjNjMxRkY2XCIsIFwiI0ZGREMwNlwiLCBcIiNGRjg0MDZcIiwgXCIjYjU2OTY5XCIsIFwiI2U2Y2Y4YlwiXSxcbiAgICAgICAgICAgIGxlZ2VuZDoge1xuICAgICAgICAgICAgICAgIG1hcmdpbjoge1xuICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAxMDAsXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogNSxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5cbmFwcC5jb25zdGFudCgnQVJFQScsIHtcbiAgICBvcHRpb25zIDoge1xuICAgICAgICBjaGFydDoge1xuICAgICAgICAgICAgdHlwZTogJ3N0YWNrZWRBcmVhQ2hhcnQnLFxuICAgICAgICAgICAgaGVpZ2h0OiA1MDAsXG4gICAgICAgICAgICBtYXJnaW4gOiB7XG4gICAgICAgICAgICAgICAgdG9wOiAyMCxcbiAgICAgICAgICAgICAgICByaWdodDogMjAsXG4gICAgICAgICAgICAgICAgYm90dG9tOiAzMCxcbiAgICAgICAgICAgICAgICBsZWZ0OiA0MFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHg6IGZ1bmN0aW9uKGQpe3JldHVybiBkLng7fSxcbiAgICAgICAgICAgIHk6IGZ1bmN0aW9uKGQpe3JldHVybiBkLnk7fSxcbiAgICAgICAgICAgIHVzZVZvcm9ub2k6IGZhbHNlLFxuICAgICAgICAgICAgY2xpcEVkZ2U6IHRydWUsXG4gICAgICAgICAgICBkdXJhdGlvbjogMTAwLFxuICAgICAgICAgICAgdXNlSW50ZXJhY3RpdmVHdWlkZWxpbmU6IHRydWUsXG4gICAgICAgICAgICB4QXhpczoge1xuICAgICAgICAgICAgICAgIHNob3dNYXhNaW46IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRpY2tGb3JtYXQ6IGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQzLnRpbWUuZm9ybWF0KCcleCcpKG5ldyBEYXRlKGQpKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB5QXhpczoge1xuICAgICAgICAgICAgICAgIHRpY2tGb3JtYXQ6IGZ1bmN0aW9uKGQpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZDMuZm9ybWF0KCcsLjJmJykoZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHpvb206IHtcbiAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNjYWxlRXh0ZW50OiBbMSwgMTBdLFxuICAgICAgICAgICAgICAgIHVzZUZpeGVkRG9tYWluOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB1c2VOaWNlU2NhbGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGhvcml6b250YWxPZmY6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsT2ZmOiB0cnVlLFxuICAgICAgICAgICAgICAgIHVuem9vbUV2ZW50VHlwZTogJ2RibGNsaWNrLnpvb20nXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59KTtcbiIsImFwcC5kaXJlY3RpdmUoJ21lbnVUb2dnbGUnLCBbJyR0aW1lb3V0JywgZnVuY3Rpb24gKCR0aW1lb3V0ICkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICBzZWN0aW9uOiAnPSdcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9tZW51LXRvZ2dsZS50bXBsLmh0bWwnLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgICAgICB2YXIgY29udHJvbGxlciA9IGVsZW1lbnQucGFyZW50KCkuY29udHJvbGxlcigpO1xuXG4gICAgICAgICAgc2NvcGUuaXNPcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXIuaXNPcGVuKHNjb3BlLnNlY3Rpb24pO1xuICAgICAgICAgIH07XG4gICAgICAgICAgc2NvcGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29udHJvbGxlci50b2dnbGVPcGVuKHNjb3BlLnNlY3Rpb24pO1xuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgdmFyIHBhcmVudE5vZGUgPSBlbGVtZW50WzBdLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgIGlmIChwYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygncGFyZW50LWxpc3QtaXRlbScpKSB7XG4gICAgICAgICAgICB2YXIgaGVhZGluZyA9IHBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignaDInKTtcbiAgICAgICAgICAgIGVsZW1lbnRbMF0uZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknLCBoZWFkaW5nLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pIiwiYXBwLmNvbnRyb2xsZXIoJ2V2ZW50c0NvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsICRodHRwKSB7XG4gICAgJHNjb3BlLmZpbHRlciA9IHtcbiAgICAgICAgXCJjYXRlZ29yeVwiIDogXCJcIixcbiAgICAgICAgXCJwcm90b1wiIDogXCJcIixcbiAgICAgICAgXCJkZXNjXCIgOiBcIlwiLFxuICAgICAgICBcImZsb3dzX2Zyb21cIiA6IFwiXCIsXG4gICAgICAgIFwiZmxvd3NfdG9cIiA6IFwiXCIsXG4gICAgICAgIFwiaXRlbXNcIiA6IDEwMCxcbiAgICAgICAgXCJidG5cIiA6IFwiTG9hZFwiXG4gICAgfTtcbiAgICAkc2NvcGUucXVlcnkgPSB7XG4gICAgICAgIFwiZnJvbVwiIDogXCJcIixcbiAgICAgICAgXCJ0b1wiIDogXCJcIixcbiAgICAgICAgXCJkYXRlXCIgOiBcIlwiLFxuICAgICAgICBcImxpbWl0XCIgOiAyNVxuICAgIH1cbiAgICBcbiAgICAkc2NvcGUuZGF0YSA9IFtdO1xuXG4gICAgJGh0dHAuZ2V0KCdodHRwOi8vYmVuZWZpemlvLmxpYmVyb3V0ZXIub3JnOjU1NTUvdjIvZXZlbnRzLycgKyAkc2NvcGUuZmlsdGVyLml0ZW1zKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFx0Ly9jb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShkYXRhKSk7XG5cdFx0XHRcdCRzY29wZS5kYXRhID0gZGF0YTtcblx0fSk7XG5cbiAgICRzY29wZS5wYXJzZURhdGUgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgIHZhciBkYXRlX3RtcCA9IGRhdGU7XG4gICAgICAgIGRhdGVfdG1wLnNldEhvdXJzKGRhdGVfdG1wLmdldEhvdXJzKCkgKyAxKTtcbiAgICAgICAgJHNjb3BlLmZvb2RhdGUgPSBkYXRlX3RtcC50b0pTT04oKTtcblxuICAgfVxuXG4gICAgJHNjb3BlLmxvYWRJdGVtcyA9IGZ1bmN0aW9uKHF1ZXJ5KSB7XG4gICAgICAgICRzY29wZS5maWx0ZXIuYnRuID0gXCJMb2FkaW5nLi4uXCJcbiAgICBcbiAgICAgICAgdmFyIGRhdGUgPSBKU09OLnN0cmluZ2lmeShxdWVyeS5kYXRlKS5zcGxpdChcIlRcIik7XG4gICAgICAgIHZhciBmcm9tX3RpbWUgPSBKU09OLnN0cmluZ2lmeShxdWVyeS5mcm9tKS5zcGxpdChcIlRcIik7XG4gICAgICAgIHZhciB0b190aW1lID0gSlNPTi5zdHJpbmdpZnkocXVlcnkudG8pLnNwbGl0KFwiVFwiKTtcblxuICAgICAgICB2YXIgc2VuZCA9IHtcbiAgICAgICAgICAgIFwiZnJvbVwiIDogSlNPTi5wYXJzZShkYXRlWzBdICsgXCJUXCIgKyBmcm9tX3RpbWVbMV0pLFxuICAgICAgICAgICAgXCJ0b1wiIDogSlNPTi5wYXJzZShkYXRlWzBdICsgXCJUXCIgKyB0b190aW1lWzFdKSxcbiAgICAgICAgICAgIFwibGltaXRcIiA6IHF1ZXJ5LmxpbWl0XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coU3RyaW5nKGRhdGUpKVxuICAgICAgICAkaHR0cC5wb3N0KCdodHRwOi8vcGNzdGVobGlrLmZpdC52dXRici5jejo1NTU1L3YyL2V2ZW50cy8nICsgcXVlcnkubGltaXQsIHNlbmQpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xuXHRcdCAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgIFxuXHRcdFx0JHNjb3BlLmRhdGEgPSBkYXRhO1xuICAgICAgICAgICAgJHNjb3BlLmZpbHRlci5idG4gPSBcIkRvbmVcIlxuXHQgICAgfSk7XG4gICAgfVxuXG5cblxuICAgICRzY29wZS5lbmFibGVUYWJsZSA9IHRydWU7XG4gICAgLyokc2NvcGUuZmlsdGVyID0gXCIkXCI7XG4gICAgJHNjb3BlLnNlYXJjaCA9IHskIDogJycsIFwiU291cmNlXCI6IFsgeyBcIlByb3RvXCI6IFsgXCJcIiBdLCBcIklQNFwiOiBbIFwiXCIgXSB9XX1cbiAgICAkc2NvcGUuY2hhbmdlRmlsdGVyVG8gPSBmdW5jdGlvbihwcikge1xuICAgICAgICAkc2NvcGUuZmlsdGVyID0gcHI7IFxuICAgIH0qL1xuXG4gICAgJHNjb3BlLmV2ZW50cyA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShpdGVtKSk7XG4gICAgICAgIHZhciByZXMgPSBbXTtcbiAgICAgICAgaWYgKCRzY29wZS5maWx0ZXIucHJvdG8gIT0gXCJcIil7XG4gICAgICAgICAgICBpZiAoaSA9PSA1MCkge2NvbnNvbGUubG9nKFwiZmlsdGVyaW5nIHByb3RvXCIpOyBpID0gMDt9XG4gICAgICAgICAgICBpZiAoXCJTb3VyY2VcIiBpbiBpdGVtKSB7XG4gICAgICAgICAgICAgICAgaWYgKFwiUHJvdG9cIiBpbiBpdGVtLlNvdXJjZVswXSAmJiBpdGVtLlNvdXJjZVswXS5Qcm90b1swXS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJHNjb3BlLmZpbHRlci5wcm90by50b0xvd2VyQ2FzZSgpKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXMucHVzaCgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkc2NvcGUuZmlsdGVyLmNhdGVnb3J5ICE9IFwiXCIpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLkNhdGVnb3J5WzBdLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigkc2NvcGUuZmlsdGVyLmNhdGVnb3J5LnRvTG93ZXJDYXNlKCkpID4gLTEpIHtcbiAgICAgICAgICAgICAgICByZXMucHVzaCgxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnB1c2goMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJHNjb3BlLmZpbHRlci5kZXNjICE9IFwiXCIpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLkRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigkc2NvcGUuZmlsdGVyLmRlc2MudG9Mb3dlckNhc2UoKSkgPiAtMSlcbiAgICAgICAgICAgICAgICByZXMucHVzaCgxKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXMucHVzaCgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkc2NvcGUuZmlsdGVyLmZsb3dzX2Zyb20gIT0gXCJcIikge1xuICAgICAgICAgICAgaWYgKGl0ZW0uRmxvd0NvdW50ID4gTnVtYmVyKCRzY29wZS5maWx0ZXIuZmxvd3NfZnJvbSkpXG4gICAgICAgICAgICAgICAgcmVzLnB1c2goMSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmVzLnB1c2goMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJHNjb3BlLmZpbHRlci5mbG93c190byAhPSBcIlwiKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5GbG93Q291bnQgPCBOdW1iZXIoJHNjb3BlLmZpbHRlci5mbG93c190bykpXG4gICAgICAgICAgICAgICAgcmVzLnB1c2goMSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmVzLnB1c2goMCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbG9naWN2YWx1ZSA9IDE7XG4gIC8vICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxvZ2ljdmFsdWUgPSBsb2dpY3ZhbHVlICogcmVzW2ldO1xuICAgICAgLy8gICAgICBjb25zb2xlLmxvZyhOdW1iZXIocmVzW2ldKSk7XG4gICAgLy8gICAgICAgIGNvbnNvbGUubG9nKGxvZ2ljdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2dpY3ZhbHVlID09IDEgPyB0cnVlIDogZmFsc2U7XG5cbiAgICB9XG5cbn0pO1xuXG4iLCJhcHAuY29udHJvbGxlcignbG9naW5Db250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLCAkbG9jYXRpb24sICRsb2csIGxvZ2luQXV0aCwgJHJvb3RTY29wZSwgbG9jYWxTdG9yYWdlU2VydmljZSkge1xuXHQkc2NvcGUudGl0bGUgPSBcIkxvZ2luIVwiO1xuXHQkc2NvcGUubG9naW5CdG4gPSBcIkxvZ2luXCI7XG4gICAgXG4gICAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2codXNlcik7XG4gICAgfVxuXG5cdCRzY29wZS5oaXRTdWJtaXQgPSBmdW5jdGlvbih1c2VyKXtcbiAgICAgICAgY29uc29sZS5sb2coXCJ0ZXN0XCIpO1xuXG5cdFx0JHNjb3BlLmxvZ2luQnRuID0gXCJQbGVhc2Ugd2FpdC4uLlwiO1xuXHRcdFxuXHRcdGxvZ2luQXV0aC5mZXRjaFVzZXIodXNlcilcblx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG5cblx0XHRcdCRsb2cuaW5mbyhkYXRhKTtcblxuXHRcdFx0aWYgKGRhdGFbXCJzdWNjZXNzXCJdID09IHRydWUpIHtcblx0XHRcdFx0Ly8kbG9nLmluZm8oZGF0YSk7XHRcblx0XHRcdFx0JHNjb3BlLmxvZ2luQnRuID0gXCJTdWNjZXNzXCI7XG5cdFx0XHRcdCRsb2NhdGlvbi5wYXRoKFwiL1wiKTtcblx0XHRcdFx0bG9jYWxTdG9yYWdlU2VydmljZS5zZXQoJ2xvZ2dlZEluJywgdHJ1ZSk7XG5cdFx0XHRcdGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KCdsb2dnZWRJbi5wdycsIHNoYTI1Nl9kaWdlc3QoZGF0YS5wYXNzd29yZCkpO1x0XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0JGxvZy5lcnJvcihcImVycm9yIC0gYmFkIHBhc3N3b3JkXCIpO1xuXHRcdFx0XHQkc2NvcGUuZXJyb3JfbWVzID0gXCJCYWQgcGFzc3dvcmRcIjtcblx0XHRcdFx0JHNjb3BlLmxvZ2luQnRuID0gXCJMb2dpblwiO1xuXHRcdFx0XHRsb2dpbkNvcnJlY3QgPSBmYWxzZTtcblx0XHRcdFx0bG9jYWxTdG9yYWdlU2VydmljZS5zZXQoJ2xvZ2dlZEluJywgZmFsc2UpO1x0XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH07XG59KTtcbiIsImFwcC5mYWN0b3J5KCdtZW51JywgWyckaHR0cCcsIGZ1bmN0aW9uKCRodHRwKSB7XG5cdHJldHVybiAkaHR0cC5nZXQoJ2pzb24vbWVudS5qc29uJylcblx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRyZXR1cm4gZGF0YTtcblx0XHR9KTtcblx0Ly9cdC5lcnJvcihjb25zb2xlLmxvZygnQ2Fubm90IHJldHJpZXZlIGRhdGEnKSk7XG59XSk7XG5cbmFwcC5mYWN0b3J5KCdqc29uZGF0YScsIFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xuXHRyZXR1cm4gJGh0dHAuZ2V0KCdqc29uL3Rlc3RmaWxlXzEwMC5qc29uJylcblx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRyZXR1cm4gZGF0YTtcblx0XHR9KTtcblx0Ly9cdC5lcnJvcihjb25zb2xlLmxvZygnQ2Fubm90IHJldHJpZXZlIGRhdGEnKSk7XG59XSk7XG5cbmFwcC5mYWN0b3J5KCdhcGknLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcblx0cmV0dXJuIGZ1bmN0aW9uKHVybCkge1xuXHRcdC8qJGh0dHAuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjUwMDAvZXZlbnRzLycgKyB1cmwpXG5cdFx0XHQuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGRhdGEpO1xuXHRcdFx0XHRyZXNwb25zZSA9IGRhdGE7XG5cdFx0XHRcdHJldHVybiByZXNwb25zZTtcblx0XHRcdH0pXG5cdFx0XHQuZXJyb3IoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdDYW5ub3QgZmV0Y2ggZGF0YScpO1xuXHRcdFx0fSk7XG5cdFx0cmV0dXJuIHJlc3BvbnNlOyovXG5cblx0XHR2YXIgYWRkciA9IFwiaHR0cDovL3Bjc3RlaGxpay5maXQudnV0YnIuY3o6NTU1NS9ldmVudHMvXCIgKyB1cmxcblxuXHRcdHJldHVybiAkaHR0cC5nZXQoYWRkcilcblx0XHRcdC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFx0Ly9jb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShkYXRhKSk7XG5cdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0fSk7XG5cblx0XHQvL3JldHVybiAkcmVzb3VyY2UoYWRkciwgeyBxdWVyeTogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5IDogZmFsc2UgfSB9ICk7XG5cdH1cblxuXG4vL1x0LmVycm9yKGNvbnNvbGUubG9nKCdDYW5ub3QgcmV0cmlldmUgZGF0YScpKTtcbn1dKTtcblxuYXBwLmRpcmVjdGl2ZShcInNpZGViYXJNZW51XCIsIGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4ge1xuICAgICAgICBzY29wZToge1xuXHRcdFx0c2VjdGlvbjogJz0nXG5cdFx0fSxcblx0XHR0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL3NpZGViYXItbWVudS5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24oJHNjb3BlLCAkbWRTaWRlbmF2LCBNRU5VKSB7XG4gICAgICAgICAgICAkc2NvcGUubWVudSA9IE1FTlU7XG5cbiAgICAgICAgICAgICRzY29wZS5jaGFuZ2VNb2RlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdyZXFDaGFuZ2VNb2RlJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRzY29wZS5lbmFibGUgPSB0cnVlO1xuXG4gICAgICAgICAgICAkc2NvcGUudG9nZ2xlSXRlbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS50b2dnbGVCdG4gPSBcInRvZ2dsZWRcIjtcbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgJHNjb3BlLmNsb3NlTGVmdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRtZFNpZGVuYXYoJ2xlZnQnKS50b2dnbGUoKTtcbiAgICAgICAgICAgIH07XG4gICAgXG4gXG4gICAgICAgIH1cblx0fTtcbn0pO1xuXG5hcHAuZGlyZWN0aXZlKFwidG9wYmFyTWVudVwiLCBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHtcblx0XHRzY29wZToge1xuXHRcdFx0c2VjdGlvbjogJz0nXG5cdFx0fSxcblx0XHR0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL3RvcGJhci1tZW51Lmh0bWwnXG5cdH07XG59KTtcblxuYXBwLmRpcmVjdGl2ZShcImJveGVzXCIsIGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4ge1xuXHRcdHNjb3BlOiB7XG5cdFx0XHRzZWN0aW9uOiAnPSdcblx0XHR9LFxuXHRcdHRlbXBsYXRlVXJsOiAncGFydGlhbHMvYm94ZXMuaHRtbCdcblx0fTtcbn0pO1xuXG5cbmFwcC5kaXJlY3RpdmUoJ2NsaWNrRWRpdCcsIGZ1bmN0aW9uKCkge1xuXHR2YXIgdGVtcGxhdGUgPSAnPGRpdj48aDIgbmctc2hvdz1cInZpZXcuc2hvd1RpdGxlXCIgbmctY2xpY2s9XCJlZGl0VGl0bGUoKVwiPnt7Ym94LnRpdGxlfX08L2gyPicgK1xuXHRcdFx0XHQnPG1kLWlucHV0LWNvbnRhaW5lciBuZy1oaWRlPVwic2hvd1RpdGxlXCI+JyArXG5cdFx0XHRcdFx0JzxpbnB1dCB0eXBlPVwidGV4dFwiIHZhbHVlPVwie3tib3gudGl0bGV9fVwiIG5nLWJsdXI9XCJlZGl0VGl0bGUoYm94LnRpdGxlKVwiIG5nLW1vZGVsPVwiYm94LnRpdGxlXCIgY2xhc3M9XCJmb2N1c1RpdGxlXCIgYXJpYS1sYWJlbD1cIkVkaXQgVGl0bGVcIj4nICtcblx0XHRcdFx0JzwvbWQtaW5wdXQtY29udGFpbmVyPjwvZGl2Pic7XG5cblx0cmV0dXJuIHtcblx0XHRyZXN0cmljdCBcdDogXCJBXCIsXG5cdFx0cmVwbGFjZVx0XHQ6IHRydWUsXG5cdFx0dGVtcGxhdGUgXHQ6IHRlbXBsYXRlLFxuXHRcdHNjb3BlXHRcdDoge1xuXHRcdFx0dmFsdWU6IFwiPWNsaWNrRWRpdFwiXG5cdFx0fSxcblx0XHRjb250cm9sbGVyXHQ6IGZ1bmN0aW9uKCRzY29wZSwgaW5wdXRUZXh0LCAkdGltZW91dCkge1xuXHRcdFx0JHNjb3BlLnZpZXcuc2hvd1RpdGxlID0gdHJ1ZTtcblxuXHRcdFx0aWYgKCRzY29wZS5zaG93VGl0bGUgPSB0cnVlKSB7XG5cdFx0ICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0ICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJy5mb2N1c1RpdGxlJykudHJpZ2dlcignZm9jdXMnKTtcblx0XHQgICAgICAgIGNvbnNvbGUubG9nKFwidHJpZ2dlclwiKTtcblx0XHQgICAgICB9LCAxMDApO1xuXHRcdCAgICB9O1xuXG5cdFx0ICAgICRzY29wZS5lZGl0VGl0bGUgPSBmdW5jdGlvbigpIHtcblx0XHQgICAgXHQkc2NvcGUudmlldy5zaG93VGl0bGUgPSAhJHNjb3BlLnZpZXcuc2hvd1RpdGxlO1xuXHRcdCAgICB9O1xuXHRcdH1cblx0fTtcbn0pO1xuXG5hcHAuZGlyZWN0aXZlKFwiY2xpY2tUb0VkaXRcIiwgZnVuY3Rpb24oKSB7XG4gICAgdmFyIGVkaXRvclRlbXBsYXRlID0gJzxkaXYgY2xhc3M9XCJjbGljay10by1lZGl0XCI+JyArXG4gICAgICAgICc8ZGl2IG5nLWhpZGU9XCJ2aWV3LmVkaXRvckVuYWJsZWRcIiBuZy1jbGljaz1cImVuYWJsZUVkaXRvcigpXCI+JyArXG4gICAgICAgICAgICAnPGEgbmctY2xpY2s9XCJlbmFibGVFZGl0b3IoKVwiPjxtZC1pY29uIG1kLXN2Zy1zcmM9XCJpbWcvaWNvbnMvZWRpdC5zdmdcIj48L21kLWljb24+PC9hPicgK1xuICAgICAgICAgICAgJ3t7dmFsdWV9fSAnICtcbiAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAnPG1kLWlucHV0LWNvbnRhaW5lciBuZy1zaG93PVwidmlldy5lZGl0b3JFbmFibGVkXCI+JyArXG5cdCAgICAgICAgJzxkaXY+JyArXG5cdCAgICAgICAgICAgICc8aW5wdXQgbmctbW9kZWw9XCJ2aWV3LmVkaXRhYmxlVmFsdWVcIiBjbGFzcz1cImZvY3VzVGl0bGVcIiBhcmlhLWxhYmVsPVwiVGl0bGVcIj4nICtcblx0ICAgICAgICAgICAgJzxzcGFuIG5nLWNsaWNrPVwic2F2ZSgpXCI+U2F2ZTwvc3Bhbj4nICtcblx0ICAgICAgICAgICAgJyBvciAnICtcblx0ICAgICAgICAgICAgJzxhIG5nLWNsaWNrPVwiZGlzYWJsZUVkaXRvcigpXCI+Y2FuY2VsPC9hPi4nICtcblx0ICAgICAgICAnPC9kaXY+JyArXG5cdCAgICAnPC9tZC1pbnB1dC1jb250YWluZXI+JyArXG4gICAgJzwvZGl2Pic7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJBXCIsXG4gICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgIHRlbXBsYXRlOiBlZGl0b3JUZW1wbGF0ZSxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIHZhbHVlOiBcIj1jbGlja1RvRWRpdFwiLFxuICAgICAgICB9LFxuICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigkc2NvcGUsICR0aW1lb3V0KSB7XG4gICAgICAgICAgICAkc2NvcGUudmlldyA9IHtcbiAgICAgICAgICAgICAgICBlZGl0YWJsZVZhbHVlOiAkc2NvcGUudmFsdWUsXG4gICAgICAgICAgICAgICAgZWRpdG9yRW5hYmxlZDogZmFsc2VcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5lbmFibGVFZGl0b3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5lZGl0b3JFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5lZGl0YWJsZVZhbHVlID0gJHNjb3BlLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0ICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJy5mb2N1c1RpdGxlJykudHJpZ2dlcignZm9jdXMnKTtcblx0XHQgICAgICAgIGNvbnNvbGUubG9nKFwidHJpZ2dlclwiKTtcblx0XHQgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLmRpc2FibGVFZGl0b3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5lZGl0b3JFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS52YWx1ZSA9ICRzY29wZS52aWV3LmVkaXRhYmxlVmFsdWU7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmRpc2FibGVFZGl0b3IoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9O1xufSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
