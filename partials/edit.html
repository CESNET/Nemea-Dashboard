<md-toolbar>
    <div class="md-toolbar-tools">
        <h2>Edit box ({{box.title}})</h2>
        <span flex></span>
        <md-button class="md-icon-button" ng-click="cancel()">
            <md-icon md-svg-src="img/close.svg" aria-label="Close dialog"></md-icon>
        </md-button>
  </div>
</md-toolbar>

<md-dialog-content>

Hello

{{ box }}


    <md-input-container>
        <label>Title</label>
        <input ng-model="box.title">
    </md-input-container>    

    <md-input-container>
        <label>Type of view</label>
        <md-select ng-model="box.type" >
            <!--md-optgroup label="Types"-->
                <md-option ng-value="type" ng-repeat="type in types">{{type}}</md-option>
            <!--/md-optgroup-->
        </md-select>
    </md-input-container>
    
    <md-input-container ng-if="box.type == 'piechart' || box.type == 'barchart'">
        <label>Metric</label>
        <md-select ng-model="box.config.metric">
            <md-optgroup label="Metric">
                <md-option ng-value="item" ng-repeat="item in ['category'] track by $index">{{ item }}</md-option>
            </md-optgroup>
        </md-select>
    </md-input-container>

    <md-input-container ng-if="box.type == 'sum'">
        <label>Category</label>
        <md-select ng-model="box.config.category">
            <md-optgroup label="Category">
                <md-option ng-value="item" ng-repeat="item in categories track by $index">{{ item }}</md-option>
            </md-optgroup>
        </md-select>
    </md-input-container>
    
    
    <md-input-container ng-if="box.type == 'histogram'">
        <label>Protocol</label>
        <md-select ng-model="box.config.protocol">
            <md-optgroup label="Protocols">
                <md-option ng-value="proto" ng-repeat="proto in protocol track by $index">{{proto}}</md-option>
            </md-optgroup>
        </md-select>
    </md-input-container>

    <md-input-container ng-if="box.config.metric != ''">
        <label>Period [hours]</label>
        <input ng-model="box.config.period">
    </md-input-container>
    
    <md-input-container ng-if="box.type == 'barchart'">
        <label>Sampling [minutes]</label>
        <input ng-model="box.config.window">
    </md-input-container>




</md-dialog-content>

<md-dialog-actions layout="row">
    <span flex></span>
    <md-button ng-click="cancel()">
        Cancel
    </md-button>
    <md-button ng-click="save()" style="margin-right:20px;" class="md-primary md-raised">
       Save 
    </md-button>
</md-dialog-actions>
